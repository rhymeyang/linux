<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Section 2.7 Redirection, Piping and Command Substitution | Security Pro</title><meta name="description" content="some description">
    <link rel="preload" href="/linux/assets/style-DY6JTdq5.css" as="style"><link rel="stylesheet" href="/linux/assets/style-DY6JTdq5.css">
    <link rel="modulepreload" href="/linux/assets/app-DLQLODCD.js"><link rel="modulepreload" href="/linux/assets/07.html-DpQkft8l.js">
    <link rel="prefetch" href="/linux/assets/index.html-CslBfmL7.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-CS18fK_I.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-63a82cLG.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-CuR4s3HO.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BFMGLc7V.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-U_dunm_A.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D3exakzQ.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-ClXLEzpJ.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-Bvk71wGJ.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-BP1QlN6g.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-BpuTNCO0.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-Cr36fkya.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-hyLADL8N.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-BqX7M6pu.js" as="script"><link rel="prefetch" href="/linux/assets/12.html-LppPdQBY.js" as="script"><link rel="prefetch" href="/linux/assets/13.html-DbX6VDGE.js" as="script"><link rel="prefetch" href="/linux/assets/temp.html-6HuKku7O.js" as="script"><link rel="prefetch" href="/linux/assets/404.html-BKwYiKMM.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/linux/"><img class="vp-site-logo" src="/linux/images/leaf.svg" alt="Security Pro"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Security Pro</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../security_pro/" aria-label="Security Pro"><!---->Security Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../tools/" aria-label="Tools"><!---->Tools<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../english-starter/" aria-label="English"><!---->English<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../Se/" aria-label="Semester 3"><!---->Semester 3<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../security_pro/" aria-label="Security Pro"><!---->Security Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../tools/" aria-label="Tools"><!---->Tools<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../english-starter/" aria-label="English"><!---->English<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../Se/" aria-label="Semester 3"><!---->Semester 3<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Info <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">0.0 Linux Pro Introduction <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/00/01.html" aria-label="Section 0.1 Course Introduction"><!---->Section 0.1 Course Introduction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/00/02.html" aria-label="Section 0.2 The TestOut Lab Simulator"><!---->Section 0.2 The TestOut Lab Simulator<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">1.0 Linux Overview <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/01/01.html" aria-label="Section 1.1 Linux Introduction"><!---->Section 1.1 Linux Introduction<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">2.0 Using Linux <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/01.html" aria-label="Section 2.1 The Linux Shell"><!---->Section 2.1 The Linux Shell<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/02.html" aria-label="Section 2.2 Linux Help"><!---->Section 2.2 Linux Help<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/03.html" aria-label="Section 2.3 Text Editors"><!---->Section 2.3 Text Editors<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/04.html" aria-label="Section 2.4 Aliases"><!---->Section 2.4 Aliases<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/05.html" aria-label="Section 2.5 Environment Variables"><!---->Section 2.5 Environment Variables<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/06.html" aria-label="Section 2.6 Shell Configuration Files"><!---->Section 2.6 Shell Configuration Files<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/linux/02/07.html" aria-label="Section 2.7 Redirection, Piping and Command Substitution"><!---->Section 2.7 Redirection, Piping and Command Substitution<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/08.html" aria-label="Section 2.8 Directories"><!---->Section 2.8 Directories<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/09.html" aria-label="Section 2.9 Files"><!---->Section 2.9 Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/10.html" aria-label="Section 2.10 Links"><!---->Section 2.10 Links<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/11.html" aria-label="Section 2.11 Filesystem Hierarchy Standard (FHS)"><!---->Section 2.11 Filesystem Hierarchy Standard (FHS)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/12.html" aria-label="Section 2.12 Locating and Searching Files"><!---->Section 2.12 Locating and Searching Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/13.html" aria-label="Section 2.13 Text Stream Processing"><!---->Section 2.13 Text Stream Processing<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">3.0 Installation and Localization <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">4.0 Boot and Shutdown <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">5.0 Graphical User Interfaces and Desktops <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">6.0 Software Installation <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">7.0 Users and Groups <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">8.0 Disk and File System Management <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">9.0 Hardware Installation <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">10.0 Processes and System Services <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">11.0 System Monitoring <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">12.0 Networking <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">13.0 Cloud, Containers, and Virtualization <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">14.0 Scripting and Automation <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">15.0 Security <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">A0 Linux Pro - Practice Exams <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">B0 Linux Pro - CompTIA Linux+ <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Glossary <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><p>As you study this section, answer the following questions:</p><ul><li>What are the three default file descriptors that Linux uses to classify information for a command?</li><li>What is the difference between redirection and piping?</li><li>When might you choose to redirect the input of a command?</li><li>How can you overcome the 128 KB shell command size restriction?</li></ul><p>In this section, you will learn to:</p><ul><li>Use redirection</li><li>Use piping</li></ul><p>Key terms for this section include the following:</p><table class="terms"><thead><tr><td>Term</td><td>Definition</td></tr></thead><tbody><tr><td>Standard stream</td><td> Preconnected input and output communication channels available to Linux shells and processes. </td></tr><tr><td>stdin</td><td> A standard stream that provides data that is typically streamed from the keyboard. </td></tr><tr><td>stdout</td><td> A standard stream that accepts normal output information to be streamed to the console screen or shell window. </td></tr><tr><td>stderr</td><td> A standard stream that accepts normal error information to be streamed to the console screen or shell window. </td></tr><tr><td>Redirection</td><td> The process of modifying a shell command to divert the standard input, output, and error streams to locations other than the default. </td></tr><tr><td>Piping</td><td> The process of redirecting the output from one command to be the input of another command. </td></tr><tr><td>Here documents</td><td>A block of text that is redirected as input to a command.</td></tr><tr><td>Command substitution</td><td> A feature of the bash shell that substitutes the output of one shell command as the arguments for another shell command. </td></tr></tbody></table><p>This section helps you prepare for the following certification exam objectives:</p><table><thead><tr><td>Exam</td><td>Objective</td></tr></thead><tbody><tr><td>CompTIA Linux+ XK0-005</td><td> 1.1 Summarize Linux fundamentals <ul><li> Device types in /dev <ul><li> Special character devices <ul><li>/dev/null</li><li>/dev/zero</li><li>/dev/urandom</li></ul></li></ul></li></ul><p> 3.1 Given a scenario, create simple shell scripts to automate common tasks. <br></p><ul><li>Shell script elements</li><ul><li>Standard stream redirection</li><ul><li>|</li><li>||</li><li>&gt;</li><li>&gt;&gt;</li><li>&lt;</li><li>&lt;&lt;</li><li>&amp;</li><li>&amp;&amp;</li><li>Redirecting</li><ul><li>stderr</li><li>stdout</li></ul></ul><li>Here documents</li><li> Common script utilities <ul><li>xargs</li></ul></li></ul></ul></td></tr></tbody></table><h2 id="_2-7-1-redirection" tabindex="-1"><a class="header-anchor" href="#_2-7-1-redirection"><span>2.7.1 Redirection</span></a></h2><h2 id="_2-7-2-piping" tabindex="-1"><a class="header-anchor" href="#_2-7-2-piping"><span>2.7.2 Piping</span></a></h2><h2 id="_2-7-3-use-redirection" tabindex="-1"><a class="header-anchor" href="#_2-7-3-use-redirection"><span>2.7.3 Use Redirection</span></a></h2><h2 id="_2-7-4-use-piping" tabindex="-1"><a class="header-anchor" href="#_2-7-4-use-piping"><span>2.7.4 Use Piping</span></a></h2><h2 id="_2-7-5-redirection-and-piping-facts" tabindex="-1"><a class="header-anchor" href="#_2-7-5-redirection-and-piping-facts"><span>2.7.5 Redirection and Piping Facts</span></a></h2><p>Redirection and piping are two Linux shell features that allow the input and output of a command to be a file or another command.</p><p>This lesson covers the following topics:</p><ul><li>Standard streams and bash shell file descriptors</li><li>Redirection</li><li>Piping</li><li>The tee command</li><li>Here documents</li><li>Device files often used with redirection and piping</li></ul><h3 id="standard-streams-and-bash-shell-file-descriptors" tabindex="-1"><a class="header-anchor" href="#standard-streams-and-bash-shell-file-descriptors"><span>Standard Streams and Bash Shell File Descriptors</span></a></h3><p>The bash shell maintains three standard data streams, which are pre-connected input and output communication channels. Unless configured otherwise, bash commands use the following standard streams:</p><ul><li>Standard input (stdin) is data that is typically streamed from the keyboard. If a bash command accepts input, by default, it is gathered from stdin.</li><li>Standard output (stdout) is data that is typically streamed to the console screen. By default, bash commands send their output to stdout.</li><li>Standard error (stderr) is data that is also typically streamed to the console screen. If a command needs to output an error messages or give diagnostics, by default, it sends this output to stderr.</li></ul><p>The bash shell assigns a file descriptor to each of the standard streams. A file descriptor is a handle or number that identifies an open file or other data source and how that resource can be accessed. The following table summarizes these ideas.</p><table><thead><tr><td>Standard Stream</td><td>File Descriptor</td><td>Associated Device</td></tr></thead><tbody><tr><td>stdin</td><td>0</td><td>Keyboard</td></tr><tr><td>stdout</td><td>1</td><td>Console screen or graphical shell window</td></tr><tr><td>stderr</td><td>2</td><td>Console screen or graphical shell window</td></tr></tbody></table><h3 id="redirection" tabindex="-1"><a class="header-anchor" href="#redirection"><span>Redirection</span></a></h3><p>Linux commands can be modified to divert the standard input, output, and error streams to locations other than the default. This process is called redirection and is implemented using the following command operators:</p><table><thead><tr><td>Command Operator</td><td>Description</td></tr></thead><tbody><tr><td><b>&gt;</b> and <b>1&gt;</b></td><td> Redirects command output that is normally sent to stdout to the file name that follows the operator. The 1 is implied so that <b>&gt;</b> and <b>1&gt;</b> are functionally identical. <ul><li> If the file that follows the operator exists, it is overwritten. </li><li>If the file doesn&#39;t exist, it is created.</li><li> If there is no output generated by the command, the file will be empty. </li></ul></td></tr><tr><td><b>2&gt;</b></td><td> Redirects command output that is normally sent to stderr to the file name that follows the operator. The <b>2</b> is mandatory. <ul><li> If the file that follows the operator exists, it is overwritten. </li><li>If the file doesn&#39;t exist, it is created.</li><li> If there is no error generated by the command, the file will be empty. </li></ul></td></tr><tr><td><b>&gt;&gt;</b> , <b>1&gt;&gt;</b> and <b>2&gt;&gt;</b></td><td> The <b>&gt;&gt;</b> operator functions in the same way as the <b>&gt;</b> operator except that any output/errors are appended to the file that follows the operator. <ul><li> The <b>&gt;&gt;</b> and <b>1&gt;&gt;</b> operators appends the output sent to stdout. </li><li> The <b>2&gt;&gt;</b> operator appends the output sent to stderr. </li><li> If the file that follows the operator exists, it is appended with the output/error. </li><li>If the file doesn&#39;t exist, it is created.</li><li> The file will be not be appended if there is no output/errors generated by the command. <br></li></ul></td></tr><tr><td><b>&amp;&gt;</b></td><td> Redirects both command output that is normally sent to stdout and command errors that are normally sent to stderr to the file name that follows the operator. <ul><li> As part of a command, <b>&amp;&gt; myfile.txt</b> is equivalent to <b>&gt; myfile.txt 2&gt; &amp;1</b> or <b>&gt; myfile.txt 2&gt; myfile.txt</b> . </li><li> File creation follows the rules for the <b>&gt;</b> operator. </li></ul></td></tr><tr><td><b>&amp;&gt;&gt;</b></td><td> The <b>&amp;&gt;&gt;</b> operator functions in the same way as the <b>&amp;&gt;</b> operator except that both output and errors are appended to the file that follows the operator. <ul><li> As part of a command, <b>&amp;&gt;&gt; myfile.txt</b> is equivalent to <b>&gt;&gt; myfile.txt 2&gt;&gt; &amp;1</b> (where <b>&amp;</b> indicates that what follows is a file descriptor and not a filename) or <b>&gt;&gt; myfile.txt 2&gt;&gt; myfile.txt</b> . </li><li> File creation follows the rules for the <b>&gt;</b> operator. </li></ul></td></tr><tr><td><b>&lt;</b> and <b>0&lt;</b></td><td> Redirects command input that is normally read from stdin so that it is read from the file name that follows the operator. The 0 is implied so that <b>&lt;</b> and <b>0&lt;</b> are functionally identical. <ul><li> If the file that follows the operator exists, it is used as input. </li><li>If the file doesn&#39;t exist, an error is shown.</li><li> If there is no input needed by the command, the file is ignored. </li></ul></td></tr></tbody></table><p>The following examples demonstrate redirection concepts.</p><table><thead><tr><td>Example</td><td>Result</td></tr></thead><tbody><tr><td><b>ls /usr &gt; /tmp/deleteme</b></td><td> Writes the list of files in the /usr directory to a file named /tmp/deleteme. </td></tr><tr><td><b>ls /nonesuch &gt; /tmp/deleteme</b></td><td> Creates an empty /tmp/deleteme file (or overwrites it as an empty file if it exists) and displays the error message <i>/nonesuch not found</i> (because the /nonesuch directory does not exist). </td></tr><tr><td><b>ls /nonesuch 2&gt; /tmp/deleteme</b></td><td> Writes the error message <i>/nonesuch not found</i> (because the /nonesuch directory does not exist) to a file named /tmp/deleteme. The /tmp/deleteme file will be overwritten if it already exists. </td></tr><tr><td><b>ls /bin /nonesuch &gt; /tmp/deleteme</b></td><td> Writes a listing of the files and directories within the /bin directory to the /tmp/deleteme file and displays the error message <i>/nonesuch not found</i> to the console screen or shell window. The /tmp/deleteme file will be overwritten if it already exists. </td></tr><tr><td><b>ls /bin /nonesuch &gt; /tmp/deleteme 2&gt;&amp;1</b></td><td> Writes a listing of the files and directories within the /bin directory to the /tmp/deleteme file and also writes the error message <i>/nonesuch not found</i> to the /tmp/deleteme file. Both the list of files and directories within the /bin directory and the error message are written to the same file. </td></tr><tr><td><b>ls /bin &gt;&gt; /tmp/deleteme</b></td><td> Appends the list of files from the /usr directory to the /tmp/deleteme file. The /tmp/deleteme file will be created if it does not exist. </td></tr><tr><td><b>sort &lt; unordered.txt &gt; ordered.txt</b></td><td> Uses the contents of the unordered.txt as input to the <b>sort</b> command, and then writes the sorted contents to the file named ordered.txt. If the ordered.txt file already exists, it will be overwritten. </td></tr></tbody></table><h3 id="piping" tabindex="-1"><a class="header-anchor" href="#piping"><span>Piping</span></a></h3><p>Piping redirects the output from one command to be the input of another command.</p><ul><li>A Linux pipe is represented by a vertical bar ( <b>|</b> ).</li><li>The pipe functionality is similar to that of using stdout redirection to write the output of one command to an intermediate file, that is then used as input to a second command, using stdin redirection.</li><li>A plumbing pipe, where water enters from one end and exits the other, can be used as a mnemonic to help explain how the pipe (|) operator works.</li></ul><h3 id="the-tee-command" tabindex="-1"><a class="header-anchor" href="#the-tee-command"><span>The tee Command</span></a></h3><p>There may be times when you want to view the output of a command as it is normally sent to the console screen (stdout), but you also want the same output to be saved in a file. This can be done using the tee command.</p><ul><li>The output from a command is piped to the tee command.</li><li>The file used to store the output is added as a tee command argument.</li><li>A plumbing tee, where water flow is divided from one pipe to two separate pipes, can help you understand how the tee command works.</li></ul><p>The following examples demonstrate tee command concepts.</p><table><thead><tr><td>Example</td><td>Result</td></tr></thead><tbody><tr><td><b>ls /bin | tee binfiles.txt</b></td><td> Displays the files and directories contained in the /bin directory on the console screen (or shell window) and writes the same information to the binfiles.txt file. </td></tr><tr><td><b>ls -1 *.txt | wc -l | tee count.txt</b></td><td> Pipes a one-column list of files that end with <i>.txt</i> in the current directory to the wc (word count) command and then take that output, which gives the number of files in the list, and pipes that to the tee command that displays this number on the console screen (or shell window) and writes the same number to the count.txt file. </td></tr></tbody></table><h3 id="here-documents" tabindex="-1"><a class="header-anchor" href="#here-documents"><span>Here Documents</span></a></h3><p>A here document is a block of text that is redirected as input to a command. Here documents are often used in shell scripts.</p><ul><li> A command is followed by the <b>&lt;&lt;</b> operator, which is then followed by a marker, which is traditionally an uppercase word. <div><div><div><div class="to-icon large" aria-hidden="true" style="width:20px;"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div><div><span> The term <i>here document</i> may have origins in the practice of using the word <i>HERE</i> as the marker.</span></div></div></div></div></li><li>Lines of text are included in the block.</li><li> The end of the block of text is indicated by the same marker that follows the <b>&lt;&lt;</b> operator. </li><li>The shell passes the block of text to the command as input.</li></ul><p>The following examples demonstrate here document concepts.</p><table><thead><tr><td>Example</td><td>Explanation</td></tr></thead><tbody><tr><td><b>cat &lt;&lt; HERE <br> &gt; Today, we hope you are <br> &gt; learning a great deal <br> &gt; about Linux redirection <br> &gt; and piping from TestOut. <br> &gt;HERE</b></td><td> The following lines are displayed on the console screen or shell window: <p> Today, we hope you are <br> learning a great deal <br> about Linux redirection <br> and piping from TestOut. </p><p> This may be useful when creating shell scripts that present explanations and documentation to users. </p></td></tr><tr><td><b>lftp machine -uUser,Passwd &lt;&lt;END<br> cd your_dir<br>get your_file <br>bye <br>END</b></td><td> Multiple commands are entered during an ftp session. These commands are managed using the lftp program. This may be helpful when automating a long list of ftp commands. </td></tr></tbody></table><h3 id="device-files-often-used-with-redirection-and-piping" tabindex="-1"><a class="header-anchor" href="#device-files-often-used-with-redirection-and-piping"><span>Device Files Often Used with Redirection and Piping</span></a></h3><p>Device files are file-like access points to hardware devices. There are two device files that are often used with redirection and piping: /dev/tty and /dev/null</p><table><thead><tr><td>Device File</td><td>Description</td></tr></thead><tbody><tr><td><b>/dev/tty</b></td><td> The first terminals were Teletype (abbreviated as <i>tty</i> ), which can be compared to a remote controlled typewriter. The /dev/tty device file is associated with the computer&#39;s controlling terminal or the shell&#39;s window. <ul><li>Data can be both written to and read from this file.</li><li> Text written to this file is displayed on the console monitor&#39;s screen or shell window. </li><li> Text read from this file originates from the console&#39;s keyboard. </li><li> The <b>/dev/tty</b> device file is similar to a combination of stdin and stdout. Both stdin and stdout are accessed as data streams, whereas <b>/dev/tty</b> is accessed like a file. </li></ul></td></tr><tr><td><b>/dev/null</b></td><td> The /dev/null device file is associate with a null device. A null device is commonly used for disposing unwanted output streams. <ul><li> While a command can read from <b>/dev/null</b> , commands typically write unwanted output or unwanted error messages to <b>/dev/null</b> . </li><li> A slang word for the <b>/dev/nul</b> device file is bit bucket. </li></ul></td></tr><tr><td><b>/dev/zero</b></td><td> Similar to /dev/null, /dev/zero discards any input. It also returns a &quot;0&quot; for however many times it is accessed. It is most commonly used for: <ul><li>Initializing a new block device</li><li>Overwriting existing data</li></ul></td></tr><tr><td><b>/dev/urandom</b></td><td> Returns a pseudo-random number. Frequently used when performing cryptographic (encryption) tasks. </td></tr></tbody></table><h3 id="dev-tty" tabindex="-1"><a class="header-anchor" href="#dev-tty"><span>/dev/tty</span></a></h3><table><thead><tr><td>Example</td><td>Explanation</td></tr></thead><tbody><tr><td><b>echo &quot;test&quot; &gt; /dev/tty</b></td><td> Writes the word <i>test</i> to the console or to a shell windows. This is redundant, since the echo command by itself performs the same action. </td></tr><tr><td><b>sort &lt; /dev/tty &gt; sortkeyboard.txt</b></td><td> The text entered using the keyboard is sorted and written to the sortkeyboard.txt file. <div><div><div><div class="to-icon large" aria-hidden="true" style="width:20px;"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div><div><span>The <b>&lt; /dev/tty</b> operation will continue to accept keyboard input until the user enters an end-of-file (EOF) sequence using the Ctrl+D key combination.</span></div></div></div></div></td></tr><tr><td><b>rm deleteme.txt 2&gt; /dev/null</b></td><td> Deletes the <b>deleteme.txt</b> file if it exists. If it doesn&#39;t exist, don&#39;t display an error message. <div><div><div><div class="to-icon large" aria-hidden="true" style="width:20px;"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div><div><span>This logic is often used in shell scripts to suppress error messages that are not important to the script&#39;s overall purpose.</span></div></div></div></div></td></tr></tbody></table></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/linux/02/06.html" aria-label="Section 2.6 Shell Configuration Files"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Section 2.6 Shell Configuration Files</span></div></a><a class="route-link auto-link next" href="/linux/02/08.html" aria-label="Section 2.8 Directories"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Section 2.8 Directories</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/linux/assets/app-DLQLODCD.js" defer></script>
  </body>
</html>
