<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Section 15.8 Application Armor (AppArmor) | Linux Pro</title><meta name="description" content="some description">
    <link rel="preload" href="/linux/assets/style-DY6JTdq5.css" as="style"><link rel="stylesheet" href="/linux/assets/style-DY6JTdq5.css">
    <link rel="modulepreload" href="/linux/assets/app-CCsZbG-M.js"><link rel="modulepreload" href="/linux/assets/08.html-BZDvIqd_.js">
    <link rel="prefetch" href="/linux/assets/index.html-DpY5zeFU.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DWIcbM1M.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-DJ9C-Tcy.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-at1mAVSc.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BCAlGdgO.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-BE9jDkiO.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D71OzaXv.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BtoTe6D1.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-CO6VaBnv.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-DYjdYWYY.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-D98WwBtu.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-DWTHAmR2.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-Cd-jZgYM.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-B4iZQaNP.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-CX_qbNB_.js" as="script"><link rel="prefetch" href="/linux/assets/12.html-CaTkrB09.js" as="script"><link rel="prefetch" href="/linux/assets/13.html-CgJpuvVB.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BtpPXDWR.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-S0xUrkl5.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D5Rzzyho.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-CZREvPpa.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-CuelR2EE.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-iPO-UG90.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-DgLllKbX.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-B6p-hvyj.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BF_OuMk5.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-K6kMOhSr.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D4_8ZDnS.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-E-_8iGEe.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-D4vAEItE.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-Bfy_Sw6R.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-KmKY_qD2.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BogASiBQ.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BfDwtQkO.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-3plUJ1yx.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-dIeOpbE1.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-DdfTr4AL.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-Bezfdb3a.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-vanZz8gs.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-CMMDuXEL.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-Cx250dZO.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-CSt0ITq9.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-BzyUWQmY.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-Da_ZYuVV.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-D6k9Iebb.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-CV-r7BIA.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-DevkEobo.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-CWtdhJwe.js" as="script"><link rel="prefetch" href="/linux/assets/12.html-DjoQ0SeS.js" as="script"><link rel="prefetch" href="/linux/assets/13.html-DufrXYnU.js" as="script"><link rel="prefetch" href="/linux/assets/14.html-LJrLlZub.js" as="script"><link rel="prefetch" href="/linux/assets/15.html-U0J1lJPO.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BO0Z9Ym3.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-ov07xDzp.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-DQsnAOIw.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BGowOZDg.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-BwXJC7DA.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D1B2BIyw.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-Dn7yHQPd.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-Cst86Be1.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-BzLzkD6_.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DaVvwg0b.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-Bhy4_Ikp.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-B3JXOfc_.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BSWWBxCZ.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-CvLSx3Dk.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-mKTG6Am6.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-_phYb_Fq.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-B_TB65zJ.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DF98YetO.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-Bx0oeZYl.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-C3GnIWdz.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BhlK7SFC.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-D3fEtNkm.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DsP0ZHJa.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-CdD1GJkp.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-CfLR6G_Z.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-CNCO7kT9.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-BDmC513c.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DNEdKOkZ.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-OJKOQujG.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-BRmErTkm.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-jBoU77pg.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-LUU8JaeM.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-DHFXrDDU.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-DPoi6Tkv.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-C-6PjLVq.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-DP0fJP2Q.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-cAGeyr1m.js" as="script"><link rel="prefetch" href="/linux/assets/A1.html-D6QReCZH.js" as="script"><link rel="prefetch" href="/linux/assets/A2.html-DS8eOcV2.js" as="script"><link rel="prefetch" href="/linux/assets/B1.html-B-hs_n_y.js" as="script"><link rel="prefetch" href="/linux/assets/B2.html-CeWFAYMK.js" as="script"><link rel="prefetch" href="/linux/assets/temp.html-B78awD0A.js" as="script"><link rel="prefetch" href="/linux/assets/404.html-UxGCde1X.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/linux/"><img class="vp-site-logo" src="/linux/images/leaf.svg" alt="Linux Pro"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Linux Pro</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../security_pro/" aria-label="Security Pro"><!---->Security Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../tools/" aria-label="Tools"><!---->Tools<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../english-starter/" aria-label="English"><!---->English<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../Se/" aria-label="Semester 3"><!---->Semester 3<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../security_pro/" aria-label="Security Pro"><!---->Security Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../tools/" aria-label="Tools"><!---->Tools<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../english-starter/" aria-label="English"><!---->English<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../Se/" aria-label="Semester 3"><!---->Semester 3<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Info <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">0.0 Linux Pro Introduction <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/00/01.html" aria-label="Section 0.1 Course Introduction"><!---->Section 0.1 Course Introduction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/00/02.html" aria-label="Section 0.2 The TestOut Lab Simulator"><!---->Section 0.2 The TestOut Lab Simulator<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">1.0 Linux Overview <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/01/01.html" aria-label="Section 1.1 Linux Introduction"><!---->Section 1.1 Linux Introduction<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">2.0 Using Linux <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/01.html" aria-label="Section 2.1 The Linux Shell"><!---->Section 2.1 The Linux Shell<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/02.html" aria-label="Section 2.2 Linux Help"><!---->Section 2.2 Linux Help<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/03.html" aria-label="Section 2.3 Text Editors"><!---->Section 2.3 Text Editors<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/04.html" aria-label="Section 2.4 Aliases"><!---->Section 2.4 Aliases<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/05.html" aria-label="Section 2.5 Environment Variables"><!---->Section 2.5 Environment Variables<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/06.html" aria-label="Section 2.6 Shell Configuration Files"><!---->Section 2.6 Shell Configuration Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/07.html" aria-label="Section 2.7 Redirection, Piping and Command Substitution"><!---->Section 2.7 Redirection, Piping and Command Substitution<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/08.html" aria-label="Section 2.8 Directories"><!---->Section 2.8 Directories<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/09.html" aria-label="Section 2.9 Files"><!---->Section 2.9 Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/10.html" aria-label="Section 2.10 Links"><!---->Section 2.10 Links<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/11.html" aria-label="Section 2.11 Filesystem Hierarchy Standard (FHS)"><!---->Section 2.11 Filesystem Hierarchy Standard (FHS)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/12.html" aria-label="Section 2.12 Locating and Searching Files"><!---->Section 2.12 Locating and Searching Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/13.html" aria-label="Section 2.13 Text Stream Processing"><!---->Section 2.13 Text Stream Processing<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">3.0 Installation and Localization <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/03/01.html" aria-label="Section 3.1 Linux System Design"><!---->Section 3.1 Linux System Design<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/03/02.html" aria-label="Section 3.2 Linux Installation"><!---->Section 3.2 Linux Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/03/03.html" aria-label="Section 3.3 Localization"><!---->Section 3.3 Localization<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">4.0 Boot and Shutdown <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/01.html" aria-label="Section 4.1 Linux Boot Process"><!---->Section 4.1 Linux Boot Process<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/02.html" aria-label="Section 4.2 Bootloaders"><!---->Section 4.2 Bootloaders<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/03.html" aria-label="Section 4.3 systemd Boot Targets"><!---->Section 4.3 systemd Boot Targets<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/04.html" aria-label="Section 4.4 System Services"><!---->Section 4.4 System Services<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/05.html" aria-label="Section 4.5 System Shutdown"><!---->Section 4.5 System Shutdown<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">5.0 Graphical User Interfaces and Desktops <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/01.html" aria-label="Section 5.1 Graphical User Interfaces"><!---->Section 5.1 Graphical User Interfaces<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/02.html" aria-label="Section 5.2 Linux Desktops"><!---->Section 5.2 Linux Desktops<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/03.html" aria-label="Section 5.3 Remote Desktop"><!---->Section 5.3 Remote Desktop<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/04.html" aria-label="Section 5.4 Accessibility"><!---->Section 5.4 Accessibility<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">6.0 Software Installation <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/01.html" aria-label="Section 6.1 Red Hat Package Manager (RPM)"><!---->Section 6.1 Red Hat Package Manager (RPM)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/02.html" aria-label="Section 6.2 Online Package Installation"><!---->Section 6.2 Online Package Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/03.html" aria-label="Section 6.3 Debian Package Manager (dpkg)"><!---->Section 6.3 Debian Package Manager (dpkg)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/04.html" aria-label="Section 6.4 Shared Libraries"><!---->Section 6.4 Shared Libraries<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">7.0 Users and Groups <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/01.html" aria-label="Section 7.1 User and Group Overview"><!---->Section 7.1 User and Group Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/02.html" aria-label="Section 7.2 User Management"><!---->Section 7.2 User Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/03.html" aria-label="Section 7.3 Group Management"><!---->Section 7.3 Group Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/04.html" aria-label="Section 7.4 Troubleshoot User Issues"><!---->Section 7.4 Troubleshoot User Issues<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">8.0 Disk and File System Management <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/01.html" aria-label="Section 8.1 Storage Concepts"><!---->Section 8.1 Storage Concepts<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/02.html" aria-label="Section 8.2 MBR Disk Partitions"><!---->Section 8.2 MBR Disk Partitions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/03.html" aria-label="Section 8.3 GUID Partitions"><!---->Section 8.3 GUID Partitions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/04.html" aria-label="Section 8.4 Logical Volume Manager"><!---->Section 8.4 Logical Volume Manager<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/05.html" aria-label="Section 8.5 File Systems"><!---->Section 8.5 File Systems<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/06.html" aria-label="Section 8.6 Mounting File Systems"><!---->Section 8.6 Mounting File Systems<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/07.html" aria-label="Section 8.7 File System Maintenance"><!---->Section 8.7 File System Maintenance<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/08.html" aria-label="Section 8.8 Disk Quotas"><!---->Section 8.8 Disk Quotas<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/09.html" aria-label="Section 8.9 Ownership"><!---->Section 8.9 Ownership<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/10.html" aria-label="Section 8.10 Permissions"><!---->Section 8.10 Permissions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/11.html" aria-label="Section 8.11 The umask Command"><!---->Section 8.11 The umask Command<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/12.html" aria-label="Section 8.12 Special Permissions"><!---->Section 8.12 Special Permissions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/13.html" aria-label="Section 8.13 Access Control Lists"><!---->Section 8.13 Access Control Lists<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/14.html" aria-label="Section 8.14 Archive and Backup"><!---->Section 8.14 Archive and Backup<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/15.html" aria-label="Section 8.15 Troubleshooting Storage"><!---->Section 8.15 Troubleshooting Storage<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">9.0 Hardware Installation <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/09/01.html" aria-label="Section 9.1 Device Drivers"><!---->Section 9.1 Device Drivers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/09/02.html" aria-label="Section 9.2 Kernel Module Management"><!---->Section 9.2 Kernel Module Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/09/03.html" aria-label="Section 9.3 Hotplug and Coldplug Devices"><!---->Section 9.3 Hotplug and Coldplug Devices<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">10.0 Processes and System Services <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/01.html" aria-label="Section 10.1 Processes"><!---->Section 10.1 Processes<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/02.html" aria-label="Section 10.2 Process Management"><!---->Section 10.2 Process Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/03.html" aria-label="Section 10.3 Task Management"><!---->Section 10.3 Task Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/04.html" aria-label="Section 10.4 System Time Configuration"><!---->Section 10.4 System Time Configuration<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">11.0 System Monitoring <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/11/01.html" aria-label="Section 11.1 System Logging"><!---->Section 11.1 System Logging<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/11/02.html" aria-label="Section 11.2 Resource Monitoring"><!---->Section 11.2 Resource Monitoring<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">12.0 Networking <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/01.html" aria-label="Section 12.1 IPv4 Overview"><!---->Section 12.1 IPv4 Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/02.html" aria-label="Section 12.2 Network Interface Configuration"><!---->Section 12.2 Network Interface Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/03.html" aria-label="Section 12.3 NetworkManager"><!---->Section 12.3 NetworkManager<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/04.html" aria-label="Section 12.4 IPv6 Overview"><!---->Section 12.4 IPv6 Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/05.html" aria-label="Section 12.5 Routing Configuration"><!---->Section 12.5 Routing Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/06.html" aria-label="Section 12.6 Hostname and DNS Configuration"><!---->Section 12.6 Hostname and DNS Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/07.html" aria-label="Section 12.7 Linux Firewalls"><!---->Section 12.7 Linux Firewalls<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/08.html" aria-label="Section 12.8 Network Troubleshooting"><!---->Section 12.8 Network Troubleshooting<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">13.0 Cloud, Containers, and Virtualization <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/01.html" aria-label="Section 13.1 Cloud and Virtualization Overview"><!---->Section 13.1 Cloud and Virtualization Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/02.html" aria-label="Section 13.2 Virtual Machines"><!---->Section 13.2 Virtual Machines<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/03.html" aria-label="Section 13.3 Sandboxed Applications"><!---->Section 13.3 Sandboxed Applications<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/04.html" aria-label="Section 13.4 Containers"><!---->Section 13.4 Containers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/05.html" aria-label="Section 13.5 Virtual Networking"><!---->Section 13.5 Virtual Networking<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">14.0 Scripting and Automation <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/01.html" aria-label="Section 14.1 Bash Shell Scripting"><!---->Section 14.1 Bash Shell Scripting<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/02.html" aria-label="Section 14.2 Shell Environments, Bash Variables and Parameters"><!---->Section 14.2 Shell Environments, Bash Variables and Parameters<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/03.html" aria-label="Section 14.3 Bash Scripting Logic"><!---->Section 14.3 Bash Scripting Logic<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/04.html" aria-label="Section 14.4 Version Control Using Git"><!---->Section 14.4 Version Control Using Git<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/05.html" aria-label="Section 14.5 Orchestration Processes and Concepts"><!---->Section 14.5 Orchestration Processes and Concepts<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">15.0 Security <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/01.html" aria-label="Section 15.1 Root Usage"><!---->Section 15.1 Root Usage<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/02.html" aria-label="Section 15.2 User Security and Restriction"><!---->Section 15.2 User Security and Restriction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/03.html" aria-label="Section 15.3 Login Blocking"><!---->Section 15.3 Login Blocking<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/04.html" aria-label="Section 15.4 Network Security"><!---->Section 15.4 Network Security<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/05.html" aria-label="Section 15.5 OpenSSH"><!---->Section 15.5 OpenSSH<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/06.html" aria-label="Section 15.6 SSH Port Tunneling"><!---->Section 15.6 SSH Port Tunneling<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/07.html" aria-label="Section 15.7 Security-Enhanced Linux (SELinux)"><!---->Section 15.7 Security-Enhanced Linux (SELinux)<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/linux/15/08.html" aria-label="Section 15.8 Application Armor (AppArmor)"><!---->Section 15.8 Application Armor (AppArmor)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/09.html" aria-label="Section 15.9 Public Key Authentication"><!---->Section 15.9 Public Key Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/10.html" aria-label="Section 15.10 VPN Access and Authentication"><!---->Section 15.10 VPN Access and Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/11.html" aria-label="Section 15.11 Security Best Practices"><!---->Section 15.11 Security Best Practices<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">A0 Linux Pro - Practice Exams <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/A0/A1.html" aria-label="Section A.1 Prepare for TestOut Linux Pro Certification"><!---->Section A.1 Prepare for TestOut Linux Pro Certification<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/A0/A2.html" aria-label="Section A.2 TestOut Linux Pro Exam Domain Review"><!---->Section A.2 TestOut Linux Pro Exam Domain Review<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">B0 Linux Pro - CompTIA Linux+ <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Glossary <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><p>As you study this section, answer the following questions:</p><ul><li>How does AppArmor help protect a Linux computer?</li><li>How can you troubleshoot an application that&#39;s being protected by AppArmor?</li><li>How can you determine which network sockets are vulnerable using AppArmor?</li><li>What are the two major modes that AppArmor profiles are run in?</li><li>Which commands are used to change the mode that an AppArmor profile uses?</li></ul><p>In this section, you will learn to:</p><ul><li>Manage AppArmor</li></ul><p>Key terms for this section include the following:</p><table class="terms"><thead><tr><th>Term</th><th>Definition</th></tr></thead><tbody><tr><td> Mandatory access control <br> (MAC) </td><td> A type of access control where the system (not a user) restricts individual resource owners&#39; ability to grant or deny access to objects in a file system. </td></tr><tr><td>Complain</td><td> A processing mode where the settings specified in an AppArmor profile are not enforced, but violations are logged. </td></tr><tr><td>Enforce</td><td> A processing mode where the settings specified in an AppArmor profile prevent applications from taking any restricted actions. </td></tr></tbody></table><p>This section helps you prepare for the following certification exam objectives:</p><table class="objectives"><thead><tr><th>Exam</th><th>Objective</th></tr></thead><tbody><tr><td>CompTIA Linux+ XK0-005</td><td> 2.5 Given a scenario, apply the appropriate access controls <br><ul><li>AppArmor</li><ul><li>Application permissions</li></ul></ul></td></tr></tbody></table><h2 id="_15-8-1-application-armor" tabindex="-1"><a class="header-anchor" href="#_15-8-1-application-armor"><span>15.8.1 Application Armor</span></a></h2><p>Click one of the buttons to take you to that part of the video.</p><p>Application Armor 00:00-00:56 When you work with computers, security is always a concern.</p><p>To secure a Linux system, the first thing you should do is protect the hardware. You should keep servers in a secure room and control who has access to the desktop computers in your workspace.</p><p>You also need to make sure that only authorized individuals can log on to each computer using usernames and passwords, and use permissions to limit each user&#39;s access to files, directories, and applications.</p><p>Applications are becoming more complex and are often intertwined, sharing libraries and files scattered all over your hard disk. In addition, when a user runs an application, Discretionary Access Control gives the app all of the user account&#39;s permissions. Although this can be helpful, it also introduces allows a hacker to exploit a defect in an application and gain superuser or root privileges to a system.</p><p>In this video, we&#39;re going to discuss Application Armor, or AppArmor, which can mitigate or eliminate these threats.</p><p>We&#39;ll also cover commands you can use to manage AppArmor.</p><p>AppArmor 00:56-02:24 AppArmor is a Mandatory Access Control method used to protect your Linux systems from untrusted or unsecure processes. It locks down an application and the files it will access with absolute path names followed by the common read and write access modes.</p><p>In other words, the kernel queries AppArmor before each system call to determine whether each requested process is authorized.</p><p>To accomplish all of this, AppArmor applies a set of rules called a profile on each protected program. These plaintext profiles are stored in the /etc/apparmor.d directory and contain a list of access control rules that each program can make use of.</p><p>Most distributions that support AppArmor, such as Ubuntu and Fedora, are installed with AppArmor enabled and include a few profiles for common applications. Although creating these profiles is beyond the scope of this lesson, you should be aware that you can usually download addition profiles or create your own using the aa-genprof utility.</p><p>To see how all this works, let&#39;s look at one AppArmor implementation on an Ubuntu distribution.</p><p>Ubuntu typically includes a PDF document viewer calledEvince. When you log on to your system, you can use Evince to view your PDF files. But with the traditional Linux security model, Evince would also have access to everything else. So, if a hacker tricked you into opening a malicious PDF document, they could exploit a vulnerability in Evince and damage your system. With AppArmor, Evince only has the permissions to work with PDF documents.</p><p>AppArmor Modes 02:24-02:50 Once installed, AppArmor can operate in two modes. This first is called Enforce. The second is called Complain, or Learning.</p><p>In Enforce mode, the settings in the profiles prevent applications from taking restricted actions.</p><p>In Complain mode, the profiles loaded aren&#39;t enforced, but policy violation attempts are stored in a log file. This is useful when you want to test an AppArmor profile because it lets you see any errors that would occur in Enforce mode.</p><p>Verify AppArmor Status 02:50-03:35 To use AppArmor, you should first ensure that it&#39;s installed and enabled by running the systemctl status apparmor command. This command checks the status of the AppArmor service and tells you if it is enabled on boot.</p><p>In this example, you see that AppArmor is not running and will not run at boot.</p><p>If, for some reason, the AppArmor service isn&#39;t started, you can start it by running sudo systemctl start apparmor. Likewise, running sudo systemctl enable apparmor ensures that AppArmor is started each time your system is booted.</p><p>aa-status is another very useful command.</p><p>If you type sudo aa-status from the terminal window, you&#39;ll get a list of the loaded AppArmor modules that tells you which ones are running in Enforce mode and which ones are running in Complain mode.</p><p>Change the AppArmor Profile to Disable 03:35-04:12 Now, if a program being monitored by AppArmor isn&#39;t working, you can disable its profile using the aa-disable command.</p><p>For example, I can disable the Firefox profile by running aa-disable usr.bin.firefox as the root user or using sudo.</p><p>When this command is run, AppArmor unloads the profile from the kernel, meaning it&#39;s no longer monitoring that program, and will also prevent the profile from being loaded the next time AppArmor starts up. This command also moves the profile from the /etc/apparmor.d directory into the /etc/apparmor.d/disable directory.</p><p>Change the AppArmor Profile to Complain 04:12-04:37 However, before disabling a profile, you may want to change the AppArmor mode to complain. This lets the application run without enforcing the policy, but all the access violations the profile defines are written to the system log.</p><p>So, to change Firefox to the Complain mode, you&#39;d type ‘aa-complain usr.bin.firefox&#39;.</p><p>The application will run for a while, and then you can look at your log files and remove or adjust the restrictions.</p><p>Change the AppArmor Profile to Enforce 04:37-04:43 When you&#39;re finished editing, you can use the aa-enforce usr.bin.firefox command to enable the profile.</p><p>Verify the Protected Ports 04:43-05:50 aa-unconfined is another useful command. It displays a list of processes with TCP or UDP ports that don&#39;t have AppArmor profiles loaded.</p><p>This command includes three options.</p><p>First, we have --with-ss.</p><p>This is the default option. It runs the unconfined command using the ss command to find and list the processes listening on the network sockets.</p><p>Next, we have --with-netstat. This option does the same thing. But instead of using the ss command, it uses the older netstat command to find and list the processes listening on the network sockets.</p><p>And finally, we have the --paranoid option. This is the most thorough option. It displays all of the processes from the /proc filesystem with TCP or UDP ports that are not protected by AppArmor profiles.</p><p>It&#39;s important to note, however, that the aa-unconfined commands are not 100 percent accurate and, therefore, should not be used for forensics. Instead, this command should only be used as an aid to profiling all network-accessible processes in the lab.</p><p>Tunables 05:50-06:34 AppArmor also provides a way for you to tune your configuration without adjusting profiles.</p><p>Tunable items are stored as files in the /etc/apparmor.d/tunables directory.</p><p>The location of user&#39;s home directory is often tuned.</p><p>By default, many implementations of AppArmor list /home as the location for all users&#39; home directories. But if you have some users who are using a different location for home directors, such as /exports/home, you can edit the tunable file named home to include the additional location.</p><p>For example, by default, the home file may only include</p><p>@{HOMEDIRS}=/home/.</p><p>To include the alternative path, you would simply edit the file named home and add a space and the path to the alternative home directory on the @home line.</p><p>Summary 06:34-07:08 That&#39;s it for this lesson.</p><p>In this lesson, we covered the basics of AppArmor and explained how it can help secure your system by protecting you from hackers.</p><p>We discussed how to verify the installation and status of AppArmor and how to start and enable AppArmor.</p><p>We looked at several commands that help manage AppArmor. We discussed how to disable and enable an AppArmor profile and how to switch AppArmor modes, such as changing from Enforce mode to Complain mode.</p><p>And finally, we covered how to make small adjustment to AppArmor by editing a tunable file.</p><h2 id="_15-8-2-application-armor-facts" tabindex="-1"><a class="header-anchor" href="#_15-8-2-application-armor-facts"><span>15.8.2 Application Armor Facts</span></a></h2><p>Application Armor (AppArmor) can be used by some Linux distributions to protect your Linux systems from untrusted or insecure processes.</p><p>This lesson covers the following topics:</p><ul><li>Understanding AppArmor profiles</li><li>AppArmor modes</li><li>AppArmor status commands</li><li>AppArmor management commands</li></ul><h3 id="understanding-apparmor-profiles" tabindex="-1"><a class="header-anchor" href="#understanding-apparmor-profiles"><span>Understanding AppArmor Profiles</span></a></h3><p>AppArmor is a Mandatory Access Control (MAC) method used to protect your Linux systems from untrusted or insecure processes. It does this by locking down an application and the files to be accessed with absolute path names, followed by the common read and write access modes. In other words, the Linux kernel queries AppArmor before each system call to determine whether the process being requested is authorized to do the given operation.</p><p>To accomplish all of this, AppArmor applies a set of rules, known as a profile, on each program being protected. These plain-text profiles are stored in the /etc/apparmor.d directory and contain a list of access control rules on the applicable resources that each program can make use of. Additional profiles can be typically downloaded, or new profiles can be created using the aa-genprof utility.</p><h3 id="apparmor-modes" tabindex="-1"><a class="header-anchor" href="#apparmor-modes"><span>AppArmor Modes</span></a></h3><p>AppArmor can operate in the following modes:</p><table><thead><tr><th>Mode</th><th>Description</th></tr></thead><tbody><tr><td>enforce</td><td> When using this mode, the setting specified in the profiles will prevent applications from taking any restricted actions. </td></tr><tr><td>complain</td><td> This mode, also known as the learning mode, uses the profiles loaded, but they are not enforced. Instead, any policy violation attempts are stored in a log file. This is useful, for example, when you want to test an AppArmor profile because it lets you see any errors that would occur in enforce mode, which would be helpful for fine-tuning the profile. </td></tr></tbody></table><h3 id="apparmor-status-commands" tabindex="-1"><a class="header-anchor" href="#apparmor-status-commands"><span>AppArmor Status Commands</span></a></h3><p>Use the following commands to view the status of AppArmor and if needed, start AppArmor:</p><div class="to-info-box-body"><div class="to-icon large" aria-hidden="true" style="width:20px;"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div><div class="to-info-box-body-content"><span> Most of the following commands must be run using root permissions. If you are not logged in as root, you can use sudo to gain root permissions.</span></div></div><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><b class="fw-bold">systemctl status apparmor</b></td><td> Checks the status of the AppArmor service and also tells you if AppArmor is enabled on boot. </td></tr><tr><td><b class="fw-bold">systemctl start apparmor</b></td><td>Use this command to start the AppArmor service.</td></tr><tr><td><b class="fw-bold">systemctl enable apparmor</b></td><td> This command configures AppArmor to start each time your system is booted. </td></tr></tbody></table><h3 id="apparmor-management-commands" tabindex="-1"><a class="header-anchor" href="#apparmor-management-commands"><span>AppArmor Management Commands</span></a></h3><p>AppArmor supports the following management commands:</p><div class="to-info-box-body"><div class="to-icon large" aria-hidden="true" style="width:20px;"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div><div class="to-info-box-body-content"><span> Most of the following commands must be run using root permissions. If you are not logged in as root, you can use sudo to gain root permissions.</span></div></div><table><thead><tr><th>Command</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><b>aa-status</b></td><td> Displays a list of the AppArmor modules that are loaded, which ones are running in enforce mode, and which ones are running in complain mode. </td><td><b>aa-status</b></td></tr><tr><td><b>aa-disable</b></td><td> Disables one or more profiles. This command will unload the profile from the kernel and prevent the profile from being loaded on AppArmor startup. The aa-enforce and aa-complain utilities may be used to change this behavior. <p> This command also moves the profile from the /etc/apparmor.d directory into the /etc/apparmor.d/disable directory. </p></td><td><b>aa-disable usr.bin.firefox</b><p>Disables the Firefox profile.</p></td></tr><tr><td><b>aa-complain</b></td><td> Used to set the enforcement mode for one or more profiles to the complain mode. In this mode, the security policy is not enforced. Instead, access violations are logged to the system log. Note that &#39;deny&#39; rules will be enforced even in complain mode. This is often used to help troubleshoot applications being protected with AppArmor. <br></td><td><b>aa-complain usr.bin.firefox</b><p>Sets the Firefox profile to the complain mode.</p></td></tr><tr><td><b>aa-enforce</b></td><td> Sets one or more profiles to enforce mode. This command is only relevant in conjunction with the aa-complain utility, which sets a profile to complain mode and the aa-disable utility, which unloads and disables a profile. The default mode for a security policy is enforce, and the aa-complain utility must be run to change this behavior. </td><td><b>aa-enforce usr.bin.firefox</b><p> Changes the previously disabled or complain Firefox profile to enable. </p></td></tr><tr><td><b>aa-unconfined</b></td><td> Uses the ss or netstat command to determine which processes have open network sockets and do not have AppArmor profiles loaded into the kernel. <p>This command supports the following options:</p><ul><li><b>aa-unconfined --with-ss</b> <br>Runs the unconfined command using the ‘ss’ command to find and list the processes listening on the network sockets. This is the default option used if no options are explicitly entered. </li><li><b>aa-unconfined --with-netstat</b><br>Performs the same function as -ss, but instead of using the ss command, it uses the older netstat command to find and list the processes listening on the network sockets. </li><li><b>aa-unconfined --paranoid</b> <br>The most thorough option which will display all of the processes from the /proc filesystem with TCP or UDP ports that are not protected by AppArmor profiles. </li></ul></td><td><b>aa-unconfined --with-ss <br>aa-unconfined --with-netstat <br>aa-unconfined --paranoid</b><br></td></tr></tbody></table><h3 id="apparmor-tunables" tabindex="-1"><a class="header-anchor" href="#apparmor-tunables"><span>AppArmor Tunables</span></a></h3><p>AppArmor provides a way to fine-tune how AppArmor functions without having to adjust your profiles. The items that can be tuned are stored in files located in /etc/apparmor.d/tunables directory and are text-based files.</p><p>One common item often tuned is the location of user’s home directory. By default, many implementations of AppArmor will list /home as the location for all user’s home directory. However, if you have some users who are using a different location for home directors, such as /exports/home, you can edit the tunable file named home to include the additional location.</p><p>For example, by default, the home file may only include <code>@{HOMEDIRS}=/home/</code>. To include the alternative path of /exports/home, you would simply edit the file named home, and on the @home line, add a space and the path to the alternative home directory, such as <code>@{HOMEDIRS}=/home/ /exports/home</code>.</p><h2 id="_15-8-3-application-armor" tabindex="-1"><a class="header-anchor" href="#_15-8-3-application-armor"><span>15.8.3 Application Armor</span></a></h2><p>Click one of the buttons to take you to that part of the video.</p><p>AppArmor 00:00-01:25 In this demo, we&#39;re going to cover commands that&#39;ll help you manage AppArmor. Before we begin, know that most of the commands we&#39;ll use today require root permissions. Now, on several distributions—Ubuntu included—AppArmor is installed by default.</p><p>There are several ways to determine whether AppArmor has been installed already. One is to check if there were any AppArmor profiles added to the system. An AppArmor profile is a set of rules that determines how an application is allowed to interact with the computer. To see if any are installed here, let&#39;s cd to the /etc/AppArmor.d directory and list its contents with the ls command. The fact that this directory exists and contains profiles tells me that AppArmor has been installed.</p><p>Now, to see if AppArmor is actually running, let&#39;s use the systemctl status apparmor command. This confirms to us that AppArmor is installed, but if we look closely at the output, we see that the service is inactive. So, no, it&#39;s not running. We also see that the load state is set to Disabled. This means that even if the service were running now, the next time I boot this computer, AppArmor wouldn&#39;t start automatically. To fix this, I&#39;ll type systemctl enable --now AppArmor. If we look at the status again, we see that it&#39;s now running and enabled. Let&#39;s move on.</p><p>AppArmor Modes-Status 01:25-01:50 So, the AppArmor profiles we saw—which, again, control what our applications can and can&#39;t do—are configured in one of three modes. The first mode, which is the default, is called Enforce mode. This simply means that all the rules contained in the profile will be enforced. Another mode is called Complain. When a profile is configured as Complain, the rules aren&#39;t enforced, but AppArmor tracks any violation of them and saves them in your log files.</p><p>Install AppArmor Utilities 01:50-02:34 If I run aa-status here and display the results one page at a time with the | less option, you can see how many profiles are loaded. And among those, we get the number that are being enforced and which ones are in Complain mode.</p><p>There&#39;s also Disabled mode, meaning that the profile isn&#39;t running at all. You might want to switch to this mode if an application being protected by AppArmor is causing issues. To switch between these modes, you use a series of different commands. Before we can do that, though, we need to install the AppArmor utilities. To do this on Ubuntu, run apt install AppArmor-utils.</p><p>AppArmor Modes-Enable 02:34-03:02 Okay, with our new packages installed, let&#39;s run aa-status again. Notice that the Firefox profile isn&#39;t being enforced. If this were an application I wanted to protect, I&#39;d run ls from the /etc/AppArmor.d directory to find out the profile&#39;s name, and then I&#39;d type aa-enforce usr.bin.firefox. Running aa-status again, I see that Firefox is now being enforced.</p><p>AppArmor Modes-Disable 03:02-03:17 But let&#39;s suppose that users start complaining that Firefox isn&#39;t working properly. We could disable the profile by running aa-disable usr.bin.firefox. This not only disables the profile, but also moves it into the Disabled directory.</p><p>AppArmor Modes-Complain 03:17-03:45 Although disabling a profile might be required at times, you may want to simply change it to Complain mode instead. That way, you can look at the log files and see what changes would let the app run correctly. Let&#39;s switch to the root directory and change the profile to Complain mode. I&#39;ll run aa-complain, but this time, I need to specify the full profile path. So, I enter /etc/AppArmor.d/usr.bin.firefox.</p><p>AppArmor Unconfined 03:45-05:17 Now let&#39;s look aa-unconfined. The man pages tell me that it&#39;ll output a list of processes with TCP or UDP ports that don&#39;t have any AppArmor profiles loaded. We can also see that there are three options available for this command.</p><p>The first option, --paranoid, displays all the processes from the /proc file system with TCP or UDP ports that don&#39;t have those AppArmor profiles loaded. The second option is --with-ss. This is the default option that&#39;ll run if no other options are explicitly entered. It works with the ss command to show you just the processes that are listening on the network sockets. The third options is --with-netstat. This gives you the same results as the previous one, but does so using the deprecated netstat command. Let&#39;s type aa-unconfined --with-ss. Now the processes that are listening on the network sockets are shown.</p><p>Let&#39;s use the -netstat option, too. As you can see, the results are identical. The only difference was that netstat was used to find the results instead of ss. And now, when I run the command again using the --paranoid option, I see page after page of results. You wouldn&#39;t want to use this program for forensics. But you could use it as an aid in profiling all of the network-assessable processes in a given lab environment.</p><p>Tunables 05:17-06:06 If we use cd to go back to the /etc/AppArmor.d directory, we see that we also have a subdirectory named tunables. And if we move to this directory, we see several text-based files. These tunables give you a way to fine-tune AppArmor without having to adjust your profiles.</p><p>For example, one common thing that&#39;s often fine-tuned is the location of the user&#39;s home directory. You can change this by using the tunables file named home. If I open this in my text editor, I see that the home directory is defined as /home/. If some accounts use a different home directory location—like /exports/home, for example—all I need to do is add a space and the desired path to the end of the existing path. I just save the file afterward, and the tunable is complete.</p><p>Summary 06:06-06:17 That&#39;s it for this demonstration. In this demo, we covered AppArmor and some commands for working with this tool.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/linux/15/07.html" aria-label="Section 15.7 Security-Enhanced Linux (SELinux)"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Section 15.7 Security-Enhanced Linux (SELinux)</span></div></a><a class="route-link auto-link next" href="/linux/15/09.html" aria-label="Section 15.9 Public Key Authentication"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Section 15.9 Public Key Authentication</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/linux/assets/app-CCsZbG-M.js" defer></script>
  </body>
</html>
