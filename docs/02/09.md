---
lang: zh-CN
title: Section 2.9 Files
description: some description
---

As you study this section, answer the following questions:

<ul><li>How can you display only the first few lines of a file?</li>
<li>Why is <b >tail</b> used more often than <b >head</b> ?</li>
<li>How can you use <b >tail</b> to monitor a specified file while troubleshooting the system?</li>
<li>What is the difference between <b >cp</b> and <b >mv</b> ?</li></ul>

In this section, you will learn to:

<ul><li>View the contents of files</li>
    <li>Delete files</li>
    <li>Move files</li>
    <li>Use <b >stat</b></li>
<li>Delete files and directories</li></ul>

This section helps you prepare for the following certification exam objectives:

<table class="objectives">
<thead><tr><th> Exam</th>
<th >Objective</th></tr></thead>
<tbody><tr><td>TestOut Linux Pro</td>
<td>1.1 Use command-line utilities
<ul><li>View, search, and edit the contents of text files</li></ul>
<p>2.2 Manage the file system</p>
<ul><li>View information about directories and files in the file
system</li>
<li>Create, copy, move, and delete directories in the file 
system</li>
<li>Create, copy, move, and delete files in the file system</li></ul></td></tr>
<tr><td>CompTIA Linux+ XK0-005</td>
<td>1.2 Given a scenario, manage files and directories.
<br>
<ul><li>File editing</li>
<li>File metadata</li>
<ul><li>stat</li></ul>
<li>Files and directory operations</li>
<ul><li>mv</li>
<li>cp</li>
<li>ls</li>
<li>pwd</li>
<li>cd</li>
<li>rm</li>
<li>cat</li>
<li>touch</li></ul></ul>
2.5 Given a scenario, apply the appropriate access controls.
<br>
<ul><li>Command-line utilities</li>
<ul><li>lsattr</li>
<li>chattr</li></ul></ul>
3.1 Given a scenario, create simple shell scripts to automate common tasks.
<br>
<ul><li>Common script utilities</li>
<ul><li>head</li>
<li>tail</li></ul></ul></td></tr></tbody></table>

## 2.9.1 Commands for Viewing Files

## 2.9.2 File Management

## 2.9.3 View File Contents

## 2.9.4 Manage Files

## 2.9.5 File Management Facts

Several Linux commands are used with files.

This lesson covers the following topics:

- File viewing commands
- File management commands

### File Viewing Commands

The following table describes Linux commands that can be used to view the content of files:

<table><thead><tr><th>Command</th>
<th>Function</th>
<th>Examples</th></tr></thead>
<tbody><tr><td><b >cat</b></td>
<td >
Displays the contents of a file in the shell. This command can display multiple files at once.</td>
<td >
<ul><li><b >cat myfile</b> displays the contents of <b >myfile</b> .</li>
<li><b >cat myfile</b> <b >yourfile</b> displays the contents of <b >myfile</b> and <b >yourfile</b> together.</li></ul></td></tr>
<tr><td><b >less</b></td>
<td >
Displays the contents of a file, pausing one screen at a time.
<ul><li>Use the Spacebar to scroll to the next screen.</li>
<li>Use the Up arrow and Down arrow to scroll up and down.</li>
<li>Press q to exit.</li></ul></td>
<td >
<ul><li><b >less bigfile</b> displays the contents of <b >bigfile</b> one screen at a time so it can be read.</li></ul></td></tr>
<tr><td><b >head</b></td>
<td >
Lists the first ten lines (the default) of a specified file. Use the <b >-n</b> option to specify a specific number of lines to display.</td>
<td >
<ul><li><b >head /home/user/myfile</b> lists the first ten lines of myfile.</li>
<li><b >head -n 20 /home/user/myfile</b> lists the first 20 lines of myfile.</li>
<li><b >head -n -35 /home/user/myfile</b> displays all lines in myfile, omitting the last 35 lines.</li></ul></td></tr>
<tr><td><b >tail</b></td>
<td >
Lists the last ten lines (the default) of a specified file.
<ul><li><b >-n</b> specifies a specific number of lines.</li>
<li><b >-f</b> monitors the file.</li></ul></td>
<td >
<ul><li><b >tail /home/user/myfile</b> lists the last ten lines of myfile.</li>
<li><b >tail -n 20 /home/user/myfile</b> lists the last 20 lines of myfile.</li>
<li><b >tail -n -15 /home/user/myfile</b> displays all lines in myfile, omitting the first 15 lines.</li>
<li><b >tail -f /var/firewalld</b> displays the last ten lines of /var/firewalld and then dynamically displays new lines in the file as they are added.</li></ul></td></tr></tbody></table>

### File Management Commands

The following table describes Linux commands that can be used to manage files.

<table><thead><tr><th>Command</th>
<th>Function</th>
<th>Examples</th></tr></thead>
<tbody><tr><td><b >touch</b></td>
<td>
If the file does not exist, <b >touch</b> creates a blank version of the file. If the file does exist, this command updates the file's modification and last accessed time.</td>
<td >
<ul><li><b >touch myfile</b> makes a blank file named myfile.</li></ul></td></tr>
<tr><td><b >file</b></td>
<td >
Shows the file type. The <b >file</b> command is useful because Linux does not require file extensions.
The <b >file</b> command uses file signatures in:
<ul><li><b >/usr/share/misc/magic</b></li>
<li><b >/usr/share/misc/magic.mgc</b></li>
<li><b >/etc/magic</b></li></ul></td>
<td >
<ul><li><b >file myfile</b> shows whether <b >myfile</b> is a text, data, xml, or another type of file.</li></ul></td></tr>
<tr><td><b >stat</b></td>
<td >
Displays file or file system status. Useful for tracking changes to files or creation dates.
<ul><li><b >-f</b> shows file system status instead of file
information.</li>
<li><b >-L</b> follows links to the target file before displaying
information.</li></ul></td>
<td >
<ul><li><b >stat /var/log/syslog</b> displays information about the /var/log/syslog file</li>
<li><b >stat -f /</b> displays information about the file system
mounted at /</li></ul></td></tr>
<tr><td><b >cp</b></td>
<td >
Copies files. Copying leaves the source file intact.
<ul><li><b >-f</b> overwrites files that already exist in the
destination directory.</li>
<li><b >-i</b> prompts before overwriting a file in the destination directory.</li></ul></td>
<td >
<ul><li><b >cp /temp/document_ab.txt ~/doc/document.txt</b> copies
document_ab.txt from the <b >/temp</b> directory to the <b >~/doc</b> directory and renames the file to document.txt.</li>
<li><b >cp /temp/*.txt ~/doc</b> copies all text files from the <b >/temp</b> directory to the <b >~/doc</b> directory.</li></ul></td></tr>
<tr><td><b >mv</b></td>
<td >
Moves or renames files (and directories). Moving files erases the source file and moves it to the destination.
<ul><li><b >-f</b> overwrites files that already exist in the
destination directory.</li>
<li><b >-i</b> prompts before overwriting a file in the destination directory.</li>
<li><b >-n</b> never overwrites files in the destination directory.</li></ul></td>
<td >
<ul><li><b >mv /temp/document.txt ~/doc/document.txt</b> moves
document.txt from the <b >/temp</b> directory to the ~/doc directory.</li>
<li><b >mv /temp/*.txt ~/doc/*.txt</b> copies all text files from
the /temp directory to the ~/doc directory.</li></ul></td></tr>
<tr><td><b >rm</b></td>
<td >
Removes a file or directory.
<ul><li>Use <b >-i</b> to be prompted before deleting the file.</li>
<li>Use <b >--dir</b> to remove empty directories.</li>
<li>Use <b >-r</b> to remove directories and their contents recursively.</li>
<li>Use the <b >-f</b> option to not prompt you when there are
nonexistent files or arguments used with the command.</li></ul>
<div class="info" data-block="
The <b>rm</b> command deletes a file or
directory's inode, but it does not actually delete its data. To
permanently remove data, use the <b>shred</b> command."><div class="to-info-box"><div class="to-info-box-body"><span class="to-icon large" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></span><div class="to-info-box-body-content"><span>
The <b>rm</b> command deletes a file or
directory's inode, but it does not actually delete its data. To
permanently remove data, use the <b>shred</b> command.</span></div></div></div></div></td>
<td >
<ul><li><b >rm myfile</b> deletes a file in the current directory named
myfile.</li>
<li><b >rm -i myfile</b> prompts you before deleting the file in
the current directory named myfile.</li>
<li><b >rm /home/user/myfile</b> deletes <b >myfile</b> from the
/home/user directory regardless of the current directory.</li>
<li><b >rm --dir Sales</b> deletes the Sales directory found in the current directory only if the directory is empty.</li>
<li><b >rm -r Sales</b> deletes the Sales directory found in the
current directory, including all of its files and subdirectories
and files.</li>
<li><b >rm -f /home/user/temp/*</b> deletes all files in the temp
directory without prompts.</li></ul></td></tr>
<tr><td><b >shred</b></td>
<td >
Deletes the file and overwrites the file's data on the hard disk. The <b >shred</b> command is useful when deleting files that contain proprietary information or other sensitive data.
<ul><li><b >-n</b> specifies the times to overwrite. The default is 25 times.</li>
<li><b >-u</b> deletes the inode.</li>
<li><b >-v</b> displays the progress of the file deletion.</li>
<li><b >-z</b> overwrites the filename with zeros.</li></ul></td>
<td >
<ul><li><b >shred -u -z companysecrets.txt</b> deletes
companysecrets.txt, overwrites the file with random information,
then leaves zeros in place of the file.</li></ul></td></tr>
<tr><td><b >chattr</b></td>
<td >
Modifies file attributes. A + or - is used to add or remove attributes, respectively. For example, to make a file immutable (cannot be modified), using the +i flag sets the immutable file attribute, and -i removes the immutable file attribute.
<ul><li><b >-R</b> recursively changes attributes of directories and their content.</li>
<li><b >-V</b> displays verbose output and the program version.</li>
<li><b >-f</b> suppresses error messages.</li>
<li><b >-p</b> sets the file's project number.</li>
<li><b >-v</b> sets the file's version/generation number.</li></ul></td>
<td >
<ul><li><strong >sudo chattr +i annualreport.txt</strong>
sets the
immutable file attribute so the file cannot be modified.</li>
<li><b >sudo chattr +a feedback.txt</b> sets the append attribute
to allow users to append data to the file without changing or
modifying any existing data.</li></ul></td></tr>
<tr><td><b >lsattr</b></td>
<td >
Lists file attributes.
<ul><li><b >-R</b> recursively lists attributes of directories and
their content.</li>
<li><b >-V</b> displays the program version.</li>
<li><b >-a</b> lists all files in directories.</li>
<li><b >-d</b> lists directories like other files rather than listing their content.</li>
<li><b >-v</b> lists the file's version/generation number.</li></ul></td>
<td >
<ul><li><b >lsattr /etc/grub/grub.conf</b> lists the attributes of the grub.conf file.</li></ul></td></tr></tbody></table>
