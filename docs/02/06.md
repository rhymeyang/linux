---
lang: zh-CN
title: Section 2.6 Shell Configuration Files
description: some description
---

As you study this section, answer the following questions:

<ul><li>What is a shell configuration file?</li>
    <li>In what order do configuration scripts execute?</li>
    <li>What is the difference between a login shell and a non-login shell?</li>
<li>What does the <b class="fw-bold">su -l</b> command do?</li></ul>

In this section, you will learn to:

- View shell configuration files

Key terms for this section include the following:

<table class="terms">
   <thead><tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Term</th>
    <th scope="col" class="fw-bold">
     Definition</th></tr></thead>
   <tbody><tr><td>Login shell</td>
     <td>A shell that runs after the user successfully logs
            in using a user ID and password.</td></tr>
    <tr><td>Non-login shell</td>
     <td>A shell that is opened without requiring the user
            to authenticate with a user ID and password.</td></tr>
    <tr><td>Shell configuration file</td>
     <td>A special file containing a script that is run
            during a shell startup.</td></tr></tbody></table>

This section helps you prepare for the following certification exam objectives:

<table class="objectives">
   <thead><tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Exam</th>
    <th scope="col" class="fw-bold">
     Objective</th></tr></thead>
   <tbody><tr><td>TestOut Linux Pro</td>
     <td>1.2 Configure and use Linux shell environments
      <ul><li>Manage environment variables</li></ul></td></tr>
    <tr><td>CompTIA Linux+ XK0-005</td>
     <td>2.2 Given a scenario, implement identity 
			management
      <ul><li>Account creation and deletion
        <br>
        <ul><li>Configuration files
          <br>
          <ul><li>.bashrc</li>
           <li>.bash_profile</li>
           <li>/etc/profile</li></ul></li></ul></li></ul></td></tr></tbody></table>

## 2.6.1 Shell Configuration Files

## 2.6.2 View Shell Configuration Files

## 2.6.3 Shell Configuration Facts

Shell configuration files are scripts that execute when a shell starts.

This lesson covers the following topics:

- Shell types
- Shell configuration files
- Login shell configuration script precedence

### Shell Types

There are two shell types that determine which shell configuration files are executed.

<ul><li>Login shells run after the user successfully logs in using a user ID
        and password. For example:
    <ul><li>When the user logs in using the GUI.
      <div class="info" data-block="
       A login shell runs in the background when
              a user first logs in using the GUI, so the effects from any
              configuration file are not easily seen."><div class="to-info-box"><div class="to-info-box-body"><span class="to-icon large" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></span><div class="to-info-box-body-content"><span>
       A login shell runs in the background when
              a user first logs in using the GUI, so the effects from any
              configuration file are not easily seen.</span></div></div></div></div></li>
     <li>When the Linux system does not have a GUI and the user logs in
            using the text-based interface.</li>
     <li>When the Linux system has a GUI, but a user logs into the
            text-based console using the Ctrl + Alt+ F2 key combination.</li>
     <li>When a user runs the <b class="fw-bold">su -l &lt;user ID&gt;</b> (or just the <b class="fw-bold">su
              -</b> , which implies the -l) command and enters the correct
            password.</li>
     <li>When a user runs the <b class="fw-bold">sudo -i &lt;user ID&gt;</b> command and
            enters the correct password.</li>
     <li>When a user logs in from a remote system using the SSH protocol.</li></ul></li>
   <li>Non-login shells run when a user opens a shell after first
        authenticating with a user ID and password. For example:
    <ul><li>When a user opens a shell session (terminal application) from
            within the GUI.</li>
     <li>When a user runs the <b class="fw-bold">su &lt;user ID&gt;</b> command without
            the <b class="fw-bold">-l</b> or <b class="fw-bold">-</b> options.</li>
     <li>When a user runs the <b class="fw-bold">sudo &lt;user ID&gt;</b> command without
            the <b class="fw-bold">-i</b> option.</li>
     <li>When a user executes a script from within a shell.</li>
     <li>When a user opens a new shell from a shell prompt.</li></ul></li></ul>

> One way to determine the shell type is to run the echo $0 command. If this command returns a dash followed by the name of the shell (for example, -bash ), then it is a login shell. If the command returns the name of the shell without the dash or returns the name of the command that created the shell (for example, bash or su ), then it is a non-login shell.

### Shell Configuration Files

Shell configuration files are scripts that are run during shell startup. The following configuration files are run when a shell starts.

<table><thead><tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Configuration File</th>
    <th scope="col" class="fw-bold">
     Run by</th>
    <th scope="col" class="fw-bold">
     Shell Type</th></tr></thead>
   <tbody><tr><td><b class="fw-bold">/etc/bashrc</b> or
      <br> <b class="fw-bold">/etc/bash.bashrc</b></td>
     <td>All users</td>
     <td>Non-login</td></tr>
    <tr><td><b class="fw-bold">~/.bashrc</b></td>
     <td>The specified user only</td>
     <td>Non-login
      <div class="info" data-block="
       On most Linux distributions, this file is
              also called by login shell configuration files."><div class="to-info-box"><div class="to-info-box-body"><span class="to-icon large" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></span><div class="to-info-box-body-content"><span>
       On most Linux distributions, this file is
              also called by login shell configuration files.</span></div></div></div></div></td></tr>
    <tr><td><b class="fw-bold">/etc/profile</b></td>
     <td>All users</td>
     <td>Login</td></tr>
    <tr><td><b class="fw-bold">*. sh files in the
       <br>
       /etc/profile.d/ directory</b></td>
     <td>All users</td>
     <td>Login
      <div class="info" data-block="
       On most Linux distributions, this file is
              also called by non-login shell configuration files."><div class="to-info-box"><div class="to-info-box-body"><span class="to-icon large" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></span><div class="to-info-box-body-content"><span>
       On most Linux distributions, this file is
              also called by non-login shell configuration files.</span></div></div></div></div></td></tr>
    <tr><td><b class="fw-bold">~/.bash_profile</b></td>
     <td>The specified user only</td>
     <td>Login</td></tr>
    <tr><td><b class="fw-bold">~/.bash_login</b></td>
     <td>The specified user only</td>
     <td>Login</td></tr>
    <tr><td><b class="fw-bold">~/.profile</b></td>
     <td>The specified user only</td>
     <td>Login</td></tr>
    <tr><td><b class="fw-bold">~/.bash_logout</b></td>
     <td>The specified user only</td>
     <td>Login
      <div class="info" data-block="
       This file is only run as the user logs out
              (runs the <b>exit</b> command)."><div class="to-info-box"><div class="to-info-box-body"><span class="to-icon large" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></span><div class="to-info-box-body-content"><span>
       This file is only run as the user logs out
              (runs the <b>exit</b> command).</span></div></div></div></div></td></tr></tbody></table>

### Login Shell Configuration Script Precedence

Login shells execute the configuration scripts they use in the following order:

<ol><li><b class="fw-bold">/etc/profile</b></li>
<li><b class="fw-bold">~/.bash_profile</b> (if this file is found, the shell does not look for additional configuration script files).</li>
<li><b class="fw-bold">~/.bash_login</b> (if this file is found, the shell does not look for additional configuration script files).</li>
<li><b class="fw-bold">~/.profile</b> (this file executes only in the absence of the two preceding configuration script files).</li></ol>
