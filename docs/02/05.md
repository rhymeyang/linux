---
lang: zh-CN
title: Section 2.5 Environment Variables
description: some description
---

As you study this section, answer the following questions:

<ul><li>What is the role of environment variables?</li>
<li>What is the standard syntax for environment variable identifiers?</li>
<li>How do you preserve the current values of the PATH environment
variable when adding a new value to it?</li>
<li>How do you make a new value assigned to an environment variable persistent across all shell sessions?</li></ul>

In this section, you will learn to:

<ul><li>Manage environment variables</li>
<li>View environment variables</li></ul>

Key terms for this section include the following:

<table class="terms">
<thead><tr><th>Term</th>
<th scope="col" >Definition</th></tr></thead>
<tbody><tr><td>Variable</td>
<td>A data object that has a name and one or more assigned values.</td></tr>
<tr><td>Environment variable</td>
<td>A Linux variable that provides settings and configurations across different applications, processes, and services and is inherited by child shells and processes.</td></tr>
<tr><td>Shell variable</td>
<td>A Linux variable that is not inherited by child shells and processes.</td></tr>
<tr><td>User variable</td>
<td>A Linux shell variable that is typically defined at the shell prompt or added when scripts that are defined in a user's profile are run.</td></tr>
<tr><td>Local variable</td>
<td>A Linux shell variable that is typically defined in scripts and in script functions and generally does not exist after the script or function is run.</td></tr></tbody></table>

This section helps you prepare for the following certification exam objectives:

<table class="objectives">
<thead><tr><th>Exam</th>
<th scope="col" >
Objective</th></tr></thead>
<tbody><tr><td>TestOut Linux Pro</td>
<td>1.2 Configure and use Linux shell environments
<ul><li>Manage environment variables
<br></li></ul></td></tr>
<tr><td>CompTIA Linux+ XK0-005</td>
<td>2.2 Given a scenario, implement identity management
<ul><li>Account creation and deletion
<ul><li>Configuration files
<ul><li>/etc/profile</li>
<li>.bash_profile</li>
<li>.bashrc</li></ul></li></ul></li></ul>
<p>3.1 Given a scenario, create simple shell scripts to automate common tasks.
<br></p>
<ul><li>Common script utilities</li>
<ul><li>Environment variables</li>
<ul><li>$PATH</li>
<li>$SHELL</li>
<li>$?</li></ul></ul></ul></td></tr></tbody></table>

## 2.5.1 Environment Variables

## 2.5.2 Manage Environment Variables

## 2.5.3 Environment Variable Facts

ike most variables, an environment variable is a data object that has a name and a value. In Linux, environment variables provide a way to share settings and configurations across different applications, processes, and services.

This lesson covers the following topics:

<ul><li>Environment variables vs. shell, user, and local variables</li>
<li>Create and work with environment variables</li>
<li>Create persistent environment variables</li>
<li>Common environment variables</li></ul>

### Environment Variables vs. Shell, User, and Local Variables

When a shell session is spawned, environment information is gathered from a variety of files and settings on the system and is made available to the shell process. This environment is implemented as key-value pairs or environment variables. Each environment variable has a name or variable identifier, which is conventionally uppercase. Environment variables can be assigned one value or multiple values. If the shell session spawns a new shell or runs a program, this environment (that is, this set of environment variables) is inherited or passed on to the child process.

Shell variables may appear to be environment variables since they also have uppercase names. However, these variables are not inherited from a parent process, but are generated by scripts as the shell is initiated. For example, HISTFILESIZE is created during a Bash shell initialization and determines the number of commands that are stored in a history file. If this Bash shell spawns a C shell as a child process, HISTFILESIZE won't be defined. It isn't inherited from the Bash shell and is not generated when the C shell is initiated. This confusion between environment variables and shell variables is amplified by the fact that users generally work with only one shell type, and the shell variables are initiated across all shell sessions in the same way. This consistency makes shell variables appear to be inherited from a parent shell when, in reality, they are generated during the shell initialization. A further reason for confusion is that many environment variables available in a shell are created and exported when the shell initializes.

All Linux variables can be classified as one of two types: environment variables or shell variables, with the main difference being that environment variables are inherited by child processes, but shell variables aren't.

Both user and local variables are strictly shell variables. If there is any distinction between them, it is in how they are created and used. User variables are typically defined at the shell prompt or added when scripts that are defined in a user's profile are run. Variables defined in scripts and in script functions are usually defined as local variables since they generally do not exist after the script or function is run. By convention, user and local variables are given lowercase names to avoid overwriting environment variables and shell variables.

The table below summarizes these ideas.

<table><thead>
<tr><th>Variable Type</th>
<th scope="col" >Typical Source</th>
<th scope="col" >Naming Convention</th>
<th scope="col" >Inherited by Child Processes</th></tr></thead>
<tbody><tr><td>Environment</td>
<td>Inherited from a parent process. It may be the system process 
that passes environment information Àùgathered from a variety of system files and settings.</td>
<td>Uppercase</td>
<td>Yes</td></tr>
<tr><td>Shell</td>
<td>Generated by shell startup scripts.</td>
<td>Uppercase</td>
<td>No</td></tr>
<tr><td>User</td>
<td>Created by a user at the shell prompt or added when scripts that are defined in a user's profile are
run.</td>
<td>Lowercase</td>
<td>No</td></tr>
<tr><td>Local</td>
<td>Defined in scripts and in script functions.</td>
<td>Lowercase</td>
<td>No</td></tr></tbody></table>

### Create and Work with Environment Variables

A shell variable becomes an environment variable when the shell variable is exported. Essentially, this changes a variable's export attribute. Be aware of the following when working with environment variables:

<ul><li>By convention, environment variable names (variable identifiers) are defined and referenced using uppercase characters, making them less likely to be overridden by lowercase shell variable identifiers.</li>
<li>If an environment variable has multiple values, they are separated by a colon (:) character.</li>
<li>The default values assigned to environment variables can be overridden to customize the user's computing environment.
<ul><li>An overridden environment variable will only apply to the current shell session and any subsequent child processes.</li></ul></li></ul>

The following table lists command that are used when creating and working with environment variables.

    <table>
      <thead>
        <tr>
          <th>Command</th>
          <th>Function</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><b>[name]=[value]</b></td>
          <td>
            Creates a new shell variable with an assigned value or changes the
            value of an existing variable.
            <br />
            <div>
              <div>
                <div class="to-info-box-body">
                  <div
                    class="to-icon large"
                    aria-hidden="true"
                    style="width: 20px"
                  >
                    <svg
                      aria-hidden="true"
                      focusable="false"
                      data-prefix="fal"
                      data-icon="circle-info"
                      class="svg-inline--fa fa-circle-info"
                      role="img"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="currentColor"
                        d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"
                      ></path>
                    </svg>
                  </div>
                  <div class="to-info-box-body-content">
                    <span>
                      To append information to a variable instead of replacing
                      it, include the current variable in the command. (See
                      example.)
                      <br />
                      Changing the value of an environment variable will change
                      it for the current shell session and any subsequent child
                      processes.
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td>
            <b
              >TRAINING="TestOut"
              <br />
              PATH=$PATH:/bin/additionalpath</b
            >
          </td>
        </tr>
        <tr>
          <td><b>export [name]=[value]</b></td>
          <td>
            Creates a new environment variable for the current shell session and
            any subsequent child processes.
          </td>
          <td><b>export TRAINING="TestOut"</b></td>
        </tr>
        <tr>
          <td><b>export [name]</b></td>
          <td>
            Exports an existing shell variable to make it an environment
            variable for the current shell session and any subsequent child
            processes.
          </td>
          <td>
            <b
              >TRAINING="TestOut"
              <br />
              export TRAINING</b
            >
          </td>
        </tr>
        <tr>
          <td><b>declare -x [name]=[value]</b></td>
          <td>
            Creates a new environment variable for the current shell session and
            any subsequent child processes (functionally equivalent to
            <b>export [name]=[value]</b> ).
          </td>
          <td><b>declare -x TRAINING="TestOut"</b></td>
        </tr>
        <tr>
          <td><b>declare -x [name]</b></td>
          <td>
            Exports an existing shell variable to make it an environment
            variable for the current shell session and any subsequent child
            processes (functionally equivalent to <b>export [name]</b> ).
          </td>
          <td>
            <b
              >TRAINING="TestOut"
              <br />
              declare -x TRAINING</b
            >
          </td>
        </tr>
        <tr>
          <td><b>export -n [name]</b></td>
          <td>
            Removes the export property of an environment variable, making it a
            shell variable.
          </td>
          <td><b>export -n TRAINING</b></td>
        </tr>
        <tr>
          <td><b>declare +x [name]</b></td>
          <td>
            Removes the export property of an environment variable, making it a
            shell variable (functionally equivalent to
            <b>export -n [name]</b> ).
          </td>
          <td><b>declare +x TRAINING</b></td>
        </tr>
        <tr>
          <td><b>echo $[name]</b></td>
          <td>
            Displays the contents of an environment variable (or any variable).
          </td>
          <td><b>echo $TRAINING</b></td>
        </tr>
        <tr>
          <td><b>printenv</b></td>
          <td>Displays a list of the current environment variables.</td>
          <td><b>printenv</b></td>
        </tr>
        <tr>
          <td><b>env</b></td>
          <td>
            Displays a list of the current environment variables.
            <div>
              <div>
                <div class="to-info-box-body">
                  <div
                    class="to-icon large"
                    aria-hidden="true"
                    style="width: 20px"
                  >
                    <svg
                      aria-hidden="true"
                      focusable="false"
                      data-prefix="fal"
                      data-icon="circle-info"
                      class="svg-inline--fa fa-circle-info"
                      role="img"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="currentColor"
                        d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"
                      ></path>
                    </svg>
                  </div>
                  <div class="to-info-box-body-content">
                    <span>
                      You can also use the <b>env</b> command to run a command
                      using temporarily manipulated environment variables.
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td><b>env</b></td>
        </tr>
        <tr>
          <td><b>export -p</b></td>
          <td>Displays a list of all exported variables and functions.</td>
          <td><b>export -p</b></td>
        </tr>
        <tr>
          <td><b>set</b></td>
          <td>
            Displays a list of all environment variables, shell variables, local
            variables, and shell functions.
            <div>
              <div>
                <div class="to-info-box-body">
                  <div class="to-icon large" aria-hidden="true">
                    <svg
                      aria-hidden="true"
                      focusable="false"
                      data-prefix="fal"
                      data-icon="circle-info"
                      class="svg-inline--fa fa-circle-info"
                      role="img"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="currentColor"
                        d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"
                      ></path>
                    </svg>
                  </div>
                  <div class="to-info-box-body-content">
                    <span>
                      You can also use the <b>set</b> command to set or unset
                      values of shell options and positional parameters.</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td><b>set</b></td>
        </tr>
        <tr>
          <td><b>unset [name]</b></td>
          <td>
            Removes the variable and its value independent of whether the
            variable is an environment variable or a shell variable.
          </td>
          <td><b>unset TRAINING</b></td>
        </tr>
      </tbody>
    </table>

### Create Persistent Environment Variables

The above commands can be added to the following system and bash configuration files to create environment variables that persist across system reboots and Bash shell startups:

<table>
  <thead>
    <tr>
      <th>File(s)</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/etc/environment</td>
      <td>
        The /etc/environment file is a system-wide configuration file for
        all users. Environment variables defined in this file are available
        to all shells and processes.
        <div>
          <div class="to-info-box">
            <div class="to-info-box-body">
              <div class="to-icon large" aria-hidden="true" style="width: 20px">
                <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg>
              </div>
              <div class="to-info-box-body-content">
                <span>
                  Changes to this file do not take affect until after a reboot.
                </span>
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>/etc/profile</td>
      <td>
        This file is run for all users, but only during interactive logins
        (when a username and password is required to log in). While
        environment variable can be defined in this file, the preferred
        method is to define them in a separate script file saved in the
        /etc/profile.d directory.
        <div>
          <div class="to-info-box">
            <div class="to-info-box-body">
              <div class="to-icon large" aria-hidden="true" style="width: 20px">
                <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg>
              </div>
              <div class="to-info-box-body-content">
                <span>
                  An interactive login occurs when the user must supply a
                  username and password. An example is when the user
                  connects using SSH, when using Ctrl+Alt+F2 to log in to a
                  virtual terminal, or when using the <b>su</b> (switch
                  user) command.</span>
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>/etc/profile.d/*.sh</td>
      <td>
        These script files are run for all users, but only during
        interactive logins. You can add environment variable definitions to
        these files. These files are run by the /etc/profile file.
      </td>
    </tr>
    <tr>
      <td>
        ~/.bash_profile
        <br />
        ~/.bash_login
        <br />
        ~/.profile
      </td>
      <td>
        These hidden files are located in a user's home directory and are
        only run for that specific user and only during interactive logins.
        A search is made for these files in the order that is listed. Only
        the first file found will be run. Environment variable definitions
        can be added to these files.
      </td>
    </tr>
    <tr>
      <td>/etc/bashrc</td>
      <td>
        This file is run for all users during a Bash shell initialization.
        It is run during both interactive logins and interactive non-logins.
        Environment variable definitions can be added to them.
        <div>
          <div class="to-info-box">
            <div class="to-info-box-body">
              <div class="to-icon large" aria-hidden="true" style="width: 20px">
                <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path
                    fill="currentColor"
                    d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg>
              </div>
              <div class="to-info-box-body-content">
                <span>
                  An interactive non-login occurs when the user is not
                  required to enter a username and password to open a shell.
                  An example is when the user opens a graphical terminal
                  window in gnome or a new shell using the
                  <b>bash</b> command.</span
                >
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>~/.bashrc</td>
      <td>
        This hidden file is located in a users home directory and is only
        run for that specific user during both interactive logins and
        non-interactive logins. You can add environment variable definitions
        to this file.
      </td>
    </tr>
  </tbody>
</table>

### Common Environment Variables

The table below lists common environment variables.

> A few of these environment variables are exported during shell initialization and aren't inherited from the system process. They're still considered environment variables because they're inherited by any child processes.

<table><thead><tr><th>Variable</th>
<th>Description</th></tr></thead>
<tbody><tr><td>SHELL</td>
<td>The user's login shell.</td></tr>
<tr><td>DISPLAY</td>
<td>The location where Windows output is displayed.</td></tr>
<tr><td>ENV</td>
<td>The location of the configuration file for the current shell.</td></tr>
<tr><td>HISTSIZE</td>
<td>The number of lines or commands that are stored in a history list while your shell session is ongoing.</td></tr>
<tr><td>HOME</td>
<td>The absolute path of the user's home directory.</td></tr>
<tr><td>HOSTNAME</td>
<td>HOSTNAME is identical to HOST, but is only used on certain distributions.</td></tr>
<tr><td>LOGNAME</td>
<td>The current user's username.</td></tr>
<tr><td>MAIL</td>
<td>The path to the current user's mailbox file.</td></tr>
<tr><td>OLDPWD</td>
<td>The directory the user was in prior to switching to the current directory.</td></tr>
<tr><td>PATH</td>
<td>The directory paths used to search for programs and files.
<ul><li>Use a colon to separate entries in the PATH variable.</li>
<li>Do not include a period (.) in the PATH variable. A period indicates that the working directory is in the path and poses a security risk.</li></ul></td></tr>
<tr><td>PWD</td>
<td>The path of the current working directory.</td></tr>
<tr><td>LANG</td>
<td>The language the operating system uses.</td></tr>
<tr><td>TERM</td>
<td>The type of terminal to emulate when running the shell.</td></tr>
<tr><td>USER</td>
<td>The current logged in user.</td></tr></tbody></table>

The table below lists useful Bash shell variables:

> These shell variables are not inherited by child shells and processes. However, when the child shell is created, these shell variables will be initialized.

<table><thead><tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Variable</th>
    <th scope="col" class="fw-bold">
     Description</th></tr></thead>
   <tbody><tr><td>BASH</td>
    <td>The location of the Bash executable file.</td></tr>
   <tr><td>BASHOPTS</td>
    <td>The list of options that were used when Bash was executed.</td></tr>
   <tr><td>BASH_VERSION</td>
    <td>The Bash version being executed in a readable form.</td></tr>
   <tr><td>BASH_VERSINFO</td>
    <td>The Bash version in machine-readable output.</td></tr>
   <tr><td>EUID</td>
    <td>The current user's ID number.</td></tr>
   <tr><td>HISTFILE</td>
    <td>The filename where past commands are stored.</td></tr>
   <tr><td>HISTFILESIZE</td>
    <td>The number of past commands that HISTFILE stores for multiple sessions.</td></tr>
   <tr><td>OSTYPE</td>
    <td>The type of operating system (usually Linux).</td></tr>
   <tr><td>PS1</td>
    <td>The characters that the shell uses to define what the shell prompt looks like.</td></tr>
   <tr><td>COLUMNS</td>
    <td>The number of columns being used to draw output on the screen.</td></tr>
   <tr><td>LINES</td>
    <td>The number of lines being used to draw output on the screen.</td></tr>
   <tr><td>UID</td>
    <td>The current user's user ID.</td></tr></tbody></table>
