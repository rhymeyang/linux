<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Section 12.7 Linux Firewalls | Linux Pro</title><meta name="description" content="some description">
    <link rel="preload" href="/linux/assets/style-DY6JTdq5.css" as="style"><link rel="stylesheet" href="/linux/assets/style-DY6JTdq5.css">
    <link rel="modulepreload" href="/linux/assets/app-CCsZbG-M.js"><link rel="modulepreload" href="/linux/assets/07.html-_phYb_Fq.js">
    <link rel="prefetch" href="/linux/assets/index.html-DpY5zeFU.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DWIcbM1M.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-DJ9C-Tcy.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-at1mAVSc.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BCAlGdgO.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-BE9jDkiO.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D71OzaXv.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BtoTe6D1.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-CO6VaBnv.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-DYjdYWYY.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-D98WwBtu.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-DWTHAmR2.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-Cd-jZgYM.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-B4iZQaNP.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-CX_qbNB_.js" as="script"><link rel="prefetch" href="/linux/assets/12.html-CaTkrB09.js" as="script"><link rel="prefetch" href="/linux/assets/13.html-CgJpuvVB.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BtpPXDWR.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-S0xUrkl5.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D5Rzzyho.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-CZREvPpa.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-CuelR2EE.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-iPO-UG90.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-DgLllKbX.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-B6p-hvyj.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BF_OuMk5.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-K6kMOhSr.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D4_8ZDnS.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-E-_8iGEe.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-D4vAEItE.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-Bfy_Sw6R.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-KmKY_qD2.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BogASiBQ.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BfDwtQkO.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-3plUJ1yx.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-dIeOpbE1.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-DdfTr4AL.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-Bezfdb3a.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-vanZz8gs.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-CMMDuXEL.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-Cx250dZO.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-CSt0ITq9.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-BzyUWQmY.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-Da_ZYuVV.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-D6k9Iebb.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-CV-r7BIA.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-DevkEobo.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-CWtdhJwe.js" as="script"><link rel="prefetch" href="/linux/assets/12.html-DjoQ0SeS.js" as="script"><link rel="prefetch" href="/linux/assets/13.html-DufrXYnU.js" as="script"><link rel="prefetch" href="/linux/assets/14.html-LJrLlZub.js" as="script"><link rel="prefetch" href="/linux/assets/15.html-U0J1lJPO.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BO0Z9Ym3.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-ov07xDzp.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-DQsnAOIw.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-BGowOZDg.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-BwXJC7DA.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-D1B2BIyw.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-Dn7yHQPd.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-Cst86Be1.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-BzLzkD6_.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DaVvwg0b.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-Bhy4_Ikp.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-B3JXOfc_.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BSWWBxCZ.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-CvLSx3Dk.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-mKTG6Am6.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-B_TB65zJ.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DF98YetO.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-Bx0oeZYl.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-C3GnIWdz.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-BhlK7SFC.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-D3fEtNkm.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DsP0ZHJa.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-CdD1GJkp.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-CfLR6G_Z.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-CNCO7kT9.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-BDmC513c.js" as="script"><link rel="prefetch" href="/linux/assets/01.html-DNEdKOkZ.js" as="script"><link rel="prefetch" href="/linux/assets/02.html-OJKOQujG.js" as="script"><link rel="prefetch" href="/linux/assets/03.html-BRmErTkm.js" as="script"><link rel="prefetch" href="/linux/assets/04.html-jBoU77pg.js" as="script"><link rel="prefetch" href="/linux/assets/05.html-LUU8JaeM.js" as="script"><link rel="prefetch" href="/linux/assets/06.html-DHFXrDDU.js" as="script"><link rel="prefetch" href="/linux/assets/07.html-DPoi6Tkv.js" as="script"><link rel="prefetch" href="/linux/assets/08.html-BZDvIqd_.js" as="script"><link rel="prefetch" href="/linux/assets/09.html-C-6PjLVq.js" as="script"><link rel="prefetch" href="/linux/assets/10.html-DP0fJP2Q.js" as="script"><link rel="prefetch" href="/linux/assets/11.html-cAGeyr1m.js" as="script"><link rel="prefetch" href="/linux/assets/A1.html-D6QReCZH.js" as="script"><link rel="prefetch" href="/linux/assets/A2.html-DS8eOcV2.js" as="script"><link rel="prefetch" href="/linux/assets/B1.html-B-hs_n_y.js" as="script"><link rel="prefetch" href="/linux/assets/B2.html-CeWFAYMK.js" as="script"><link rel="prefetch" href="/linux/assets/temp.html-B78awD0A.js" as="script"><link rel="prefetch" href="/linux/assets/404.html-UxGCde1X.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/linux/"><img class="vp-site-logo" src="/linux/images/leaf.svg" alt="Linux Pro"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Linux Pro</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../security_pro/" aria-label="Security Pro"><!---->Security Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../tools/" aria-label="Tools"><!---->Tools<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../english-starter/" aria-label="English"><!---->English<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../Se/" aria-label="Semester 3"><!---->Semester 3<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../security_pro/" aria-label="Security Pro"><!---->Security Pro<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../tools/" aria-label="Tools"><!---->Tools<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../english-starter/" aria-label="English"><!---->English<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/linux/../Se/" aria-label="Semester 3"><!---->Semester 3<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Info <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/" aria-label="Linux Pro"><!---->Linux Pro<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">0.0 Linux Pro Introduction <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/00/01.html" aria-label="Section 0.1 Course Introduction"><!---->Section 0.1 Course Introduction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/00/02.html" aria-label="Section 0.2 The TestOut Lab Simulator"><!---->Section 0.2 The TestOut Lab Simulator<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">1.0 Linux Overview <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/01/01.html" aria-label="Section 1.1 Linux Introduction"><!---->Section 1.1 Linux Introduction<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">2.0 Using Linux <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/01.html" aria-label="Section 2.1 The Linux Shell"><!---->Section 2.1 The Linux Shell<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/02.html" aria-label="Section 2.2 Linux Help"><!---->Section 2.2 Linux Help<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/03.html" aria-label="Section 2.3 Text Editors"><!---->Section 2.3 Text Editors<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/04.html" aria-label="Section 2.4 Aliases"><!---->Section 2.4 Aliases<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/05.html" aria-label="Section 2.5 Environment Variables"><!---->Section 2.5 Environment Variables<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/06.html" aria-label="Section 2.6 Shell Configuration Files"><!---->Section 2.6 Shell Configuration Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/07.html" aria-label="Section 2.7 Redirection, Piping and Command Substitution"><!---->Section 2.7 Redirection, Piping and Command Substitution<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/08.html" aria-label="Section 2.8 Directories"><!---->Section 2.8 Directories<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/09.html" aria-label="Section 2.9 Files"><!---->Section 2.9 Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/10.html" aria-label="Section 2.10 Links"><!---->Section 2.10 Links<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/11.html" aria-label="Section 2.11 Filesystem Hierarchy Standard (FHS)"><!---->Section 2.11 Filesystem Hierarchy Standard (FHS)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/12.html" aria-label="Section 2.12 Locating and Searching Files"><!---->Section 2.12 Locating and Searching Files<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/02/13.html" aria-label="Section 2.13 Text Stream Processing"><!---->Section 2.13 Text Stream Processing<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">3.0 Installation and Localization <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/03/01.html" aria-label="Section 3.1 Linux System Design"><!---->Section 3.1 Linux System Design<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/03/02.html" aria-label="Section 3.2 Linux Installation"><!---->Section 3.2 Linux Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/03/03.html" aria-label="Section 3.3 Localization"><!---->Section 3.3 Localization<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">4.0 Boot and Shutdown <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/01.html" aria-label="Section 4.1 Linux Boot Process"><!---->Section 4.1 Linux Boot Process<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/02.html" aria-label="Section 4.2 Bootloaders"><!---->Section 4.2 Bootloaders<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/03.html" aria-label="Section 4.3 systemd Boot Targets"><!---->Section 4.3 systemd Boot Targets<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/04.html" aria-label="Section 4.4 System Services"><!---->Section 4.4 System Services<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/04/05.html" aria-label="Section 4.5 System Shutdown"><!---->Section 4.5 System Shutdown<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">5.0 Graphical User Interfaces and Desktops <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/01.html" aria-label="Section 5.1 Graphical User Interfaces"><!---->Section 5.1 Graphical User Interfaces<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/02.html" aria-label="Section 5.2 Linux Desktops"><!---->Section 5.2 Linux Desktops<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/03.html" aria-label="Section 5.3 Remote Desktop"><!---->Section 5.3 Remote Desktop<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/05/04.html" aria-label="Section 5.4 Accessibility"><!---->Section 5.4 Accessibility<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">6.0 Software Installation <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/01.html" aria-label="Section 6.1 Red Hat Package Manager (RPM)"><!---->Section 6.1 Red Hat Package Manager (RPM)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/02.html" aria-label="Section 6.2 Online Package Installation"><!---->Section 6.2 Online Package Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/03.html" aria-label="Section 6.3 Debian Package Manager (dpkg)"><!---->Section 6.3 Debian Package Manager (dpkg)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/06/04.html" aria-label="Section 6.4 Shared Libraries"><!---->Section 6.4 Shared Libraries<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">7.0 Users and Groups <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/01.html" aria-label="Section 7.1 User and Group Overview"><!---->Section 7.1 User and Group Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/02.html" aria-label="Section 7.2 User Management"><!---->Section 7.2 User Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/03.html" aria-label="Section 7.3 Group Management"><!---->Section 7.3 Group Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/07/04.html" aria-label="Section 7.4 Troubleshoot User Issues"><!---->Section 7.4 Troubleshoot User Issues<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">8.0 Disk and File System Management <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/01.html" aria-label="Section 8.1 Storage Concepts"><!---->Section 8.1 Storage Concepts<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/02.html" aria-label="Section 8.2 MBR Disk Partitions"><!---->Section 8.2 MBR Disk Partitions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/03.html" aria-label="Section 8.3 GUID Partitions"><!---->Section 8.3 GUID Partitions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/04.html" aria-label="Section 8.4 Logical Volume Manager"><!---->Section 8.4 Logical Volume Manager<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/05.html" aria-label="Section 8.5 File Systems"><!---->Section 8.5 File Systems<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/06.html" aria-label="Section 8.6 Mounting File Systems"><!---->Section 8.6 Mounting File Systems<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/07.html" aria-label="Section 8.7 File System Maintenance"><!---->Section 8.7 File System Maintenance<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/08.html" aria-label="Section 8.8 Disk Quotas"><!---->Section 8.8 Disk Quotas<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/09.html" aria-label="Section 8.9 Ownership"><!---->Section 8.9 Ownership<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/10.html" aria-label="Section 8.10 Permissions"><!---->Section 8.10 Permissions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/11.html" aria-label="Section 8.11 The umask Command"><!---->Section 8.11 The umask Command<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/12.html" aria-label="Section 8.12 Special Permissions"><!---->Section 8.12 Special Permissions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/13.html" aria-label="Section 8.13 Access Control Lists"><!---->Section 8.13 Access Control Lists<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/14.html" aria-label="Section 8.14 Archive and Backup"><!---->Section 8.14 Archive and Backup<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/08/15.html" aria-label="Section 8.15 Troubleshooting Storage"><!---->Section 8.15 Troubleshooting Storage<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">9.0 Hardware Installation <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/09/01.html" aria-label="Section 9.1 Device Drivers"><!---->Section 9.1 Device Drivers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/09/02.html" aria-label="Section 9.2 Kernel Module Management"><!---->Section 9.2 Kernel Module Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/09/03.html" aria-label="Section 9.3 Hotplug and Coldplug Devices"><!---->Section 9.3 Hotplug and Coldplug Devices<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">10.0 Processes and System Services <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/01.html" aria-label="Section 10.1 Processes"><!---->Section 10.1 Processes<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/02.html" aria-label="Section 10.2 Process Management"><!---->Section 10.2 Process Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/03.html" aria-label="Section 10.3 Task Management"><!---->Section 10.3 Task Management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/10/04.html" aria-label="Section 10.4 System Time Configuration"><!---->Section 10.4 System Time Configuration<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">11.0 System Monitoring <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/11/01.html" aria-label="Section 11.1 System Logging"><!---->Section 11.1 System Logging<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/11/02.html" aria-label="Section 11.2 Resource Monitoring"><!---->Section 11.2 Resource Monitoring<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">12.0 Networking <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/01.html" aria-label="Section 12.1 IPv4 Overview"><!---->Section 12.1 IPv4 Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/02.html" aria-label="Section 12.2 Network Interface Configuration"><!---->Section 12.2 Network Interface Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/03.html" aria-label="Section 12.3 NetworkManager"><!---->Section 12.3 NetworkManager<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/04.html" aria-label="Section 12.4 IPv6 Overview"><!---->Section 12.4 IPv6 Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/05.html" aria-label="Section 12.5 Routing Configuration"><!---->Section 12.5 Routing Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/06.html" aria-label="Section 12.6 Hostname and DNS Configuration"><!---->Section 12.6 Hostname and DNS Configuration<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/linux/12/07.html" aria-label="Section 12.7 Linux Firewalls"><!---->Section 12.7 Linux Firewalls<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/12/08.html" aria-label="Section 12.8 Network Troubleshooting"><!---->Section 12.8 Network Troubleshooting<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">13.0 Cloud, Containers, and Virtualization <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/01.html" aria-label="Section 13.1 Cloud and Virtualization Overview"><!---->Section 13.1 Cloud and Virtualization Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/02.html" aria-label="Section 13.2 Virtual Machines"><!---->Section 13.2 Virtual Machines<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/03.html" aria-label="Section 13.3 Sandboxed Applications"><!---->Section 13.3 Sandboxed Applications<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/04.html" aria-label="Section 13.4 Containers"><!---->Section 13.4 Containers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/13/05.html" aria-label="Section 13.5 Virtual Networking"><!---->Section 13.5 Virtual Networking<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">14.0 Scripting and Automation <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/01.html" aria-label="Section 14.1 Bash Shell Scripting"><!---->Section 14.1 Bash Shell Scripting<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/02.html" aria-label="Section 14.2 Shell Environments, Bash Variables and Parameters"><!---->Section 14.2 Shell Environments, Bash Variables and Parameters<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/03.html" aria-label="Section 14.3 Bash Scripting Logic"><!---->Section 14.3 Bash Scripting Logic<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/04.html" aria-label="Section 14.4 Version Control Using Git"><!---->Section 14.4 Version Control Using Git<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/14/05.html" aria-label="Section 14.5 Orchestration Processes and Concepts"><!---->Section 14.5 Orchestration Processes and Concepts<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">15.0 Security <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/01.html" aria-label="Section 15.1 Root Usage"><!---->Section 15.1 Root Usage<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/02.html" aria-label="Section 15.2 User Security and Restriction"><!---->Section 15.2 User Security and Restriction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/03.html" aria-label="Section 15.3 Login Blocking"><!---->Section 15.3 Login Blocking<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/04.html" aria-label="Section 15.4 Network Security"><!---->Section 15.4 Network Security<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/05.html" aria-label="Section 15.5 OpenSSH"><!---->Section 15.5 OpenSSH<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/06.html" aria-label="Section 15.6 SSH Port Tunneling"><!---->Section 15.6 SSH Port Tunneling<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/07.html" aria-label="Section 15.7 Security-Enhanced Linux (SELinux)"><!---->Section 15.7 Security-Enhanced Linux (SELinux)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/08.html" aria-label="Section 15.8 Application Armor (AppArmor)"><!---->Section 15.8 Application Armor (AppArmor)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/09.html" aria-label="Section 15.9 Public Key Authentication"><!---->Section 15.9 Public Key Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/10.html" aria-label="Section 15.10 VPN Access and Authentication"><!---->Section 15.10 VPN Access and Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/15/11.html" aria-label="Section 15.11 Security Best Practices"><!---->Section 15.11 Security Best Practices<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">A0 Linux Pro - Practice Exams <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/linux/A0/A1.html" aria-label="Section A.1 Prepare for TestOut Linux Pro Certification"><!---->Section A.1 Prepare for TestOut Linux Pro Certification<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/linux/A0/A2.html" aria-label="Section A.2 TestOut Linux Pro Exam Domain Review"><!---->Section A.2 TestOut Linux Pro Exam Domain Review<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">B0 Linux Pro - CompTIA Linux+ <!----></p><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Glossary <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><p>As you study this section, answer the following questions:</p><ul><li>What is an ACL?</li><li>How does a firewall use an ACL?</li><li>Which technologies are used to create Linux firewalls?</li><li>What are the iptables chains and rules?</li><li>How is IP forwarding configured in Linux?</li><li>Which products are available for creating dynamic firewall rule sets?</li><li>Which ports are considered privileged?</li></ul><p>In this lesson, you will learn to:</p><ul><li>Change default ports</li><li>View iptables</li></ul><p>Key terms for this section include the following:</p><table class="terms"><thead><tr><th>Term</th><th>Definition</th></tr></thead><tbody><tr><td>Firewall</td><td> A barrier between the internal network, which is assumed to be secure and trusted, and the external network, which is usually the internet and is not secure or trusted. </td></tr><tr><td> Access control list <br> (ACL) </td><td>The rules that a firewall uses to process IP packets.</td></tr><tr><td>IP forwarding</td><td> A process for determining which network path to send an IP packet on. (This process is also known as IP routing.) </td></tr><tr><td>Dynamic rule sets</td><td> An automated process for changing the iptables rules to filter network traffic and prevent intrusion. </td></tr><tr><td>Privileged port</td><td> The ports (numbered 1 to 1023) that only the root account has access to. </td></tr></tbody></table><p>This section helps you prepare for the following certification exam objectives:</p><table class="objectives"><thead><tr><th>Exam</th><th>Objective</th></tr></thead><tbody><tr><td>TestOut Linux Pro</td><td> 3.1 Configure networking <ul><li>Troubleshoot an IP configuration</li></ul></td></tr><tr><td>CompTIA Linux+ XK0-005</td><td> 2.3 Given a scenario, implement and configure firewalls <ul><li> Firewall use cases <ul><li>Open and close ports</li><li>Check current configuration</li><li>Enable/disable Internet Protocol (IP) forwarding</li></ul></li><li> Common firewall technologies <ul><li>firewalld</li><li>iptables</li><li>nftables</li><li>Uncomplicated firewall (UFW)</li></ul></li><li> Key firewall features <ul><li>Zones</li><li>Services</li><li>Stateful</li><li>Stateless</li></ul></li></ul><p>2.5 Given a scenario, apply the appropriate access controls</p><ul><li> File permissions <ul><li>Access control list (ACL)</li></ul></li></ul></td></tr></tbody></table><h2 id="_12-7-1-linux-firewalls" tabindex="-1"><a class="header-anchor" href="#_12-7-1-linux-firewalls"><span>12.7.1 Linux Firewalls</span></a></h2><p>Click one of the buttons to take you to that part of the video.</p><p>Linux Firewalls 00:00-00:37 In this lesson, we&#39;re going to talk about firewalls. Generally, the term &quot;firewall&quot; refers to a barrier that keeps fire from spreading. In the computing world, it refers to a software- or hardware-based network security system that uses a set of rules to control incoming and outgoing network traffic.</p><p>A firewall basically establishes a barrier between the internal network, which is assumed to be secure and trusted, and the external network, which is usually the internet and is not secure or trusted. Most operating systems, including Linux, offer software-based firewalls to protect networks and systems from external threats.</p><p>Access Control Lists 00:37-01:43 As firewalls came into use, they functioned according to network access control lists, or ACLs. ACLs were the rules the firewall used to process IP packets. Today, Linux firewall technologies often use different methods to organize their configuration options. But ACL concepts are still at the heart of a firewall&#39;s design.</p><p>ACLs determine whether routed packets are accepted, rejected, or dropped. Accepted packets are forwarded on to their destinations. Rejected packets are blocked, and a message is sent back to the packet&#39;s sender. Dropped packets are also blocked, but no message is sent.</p><p>Firewalls are divided into two categories, stateless and stateful. ACLs are stateless firewall filters because they use the packet&#39;s source address, destination address, ports, and protocols to determine how to filter the packet. A stateful firewall looks at traffic patterns, tunneling, and encryption to determine how to filter packets.</p><p>For security and analysis, you can set ACLs to log each time they&#39;re used to filter a packet. Although it can be CPU-intensive, you can also set a logging option to capture packets that the ACL targets.</p><p>Netfilter 01:43-02:13 There are many third-party Linux firewalls, and a few of them are included in major Linux distributions. But before we get into that, let&#39;s talk about Netfilter.</p><p>Netfilter is part of the Linux kernel. It&#39;s used for network address translation and port translation. It also supplies the kernel&#39;s IP packet filtering functions, which are used by firewall applications.</p><p>This means that Linux firewall applications, even those included in Linux distributions, interface with Netfilter to perform firewall functions.</p><p>IPTables 02:13-03:48 IPTables is a firewall application that&#39;s pre-installed on most Linux distributions. It is a rule-based front-end tool that interfaces with Netfilter to decide which packets to filter.</p><p>Internally, IPTables consists of five pre-defined tables that contain chains. The kernel accesses each chain at a specific point while processing an IP packet, and each chain has its own purpose. IPTables is installed with pre-configured chains. You&#39;ll rarely need to create custom chains. Instead, you can add, delete, and customize the rules contained in each chain.</p><p>Each chain&#39;s rules are traversed in order. Each rule has fields that are matched against the IP packet. If a match is made, the action in the rule is taken, and then no more rules in the chain are checked. For example, the packet could be accepted, rejected, or dropped; any of these actions completes the process, and no more chains are checked.</p><p>If the packet doesn&#39;t match the rule, the rule is skipped, and the next rule is checked. This continues until a match is made. Normally, the last rule is configured with wildcards so that it matches any packet. In many cases, the action for the last rule is to reject the packet.</p><p>Although incredibly powerful, IPTables is complicated, especially for newer users. Fortunately, to configure a firewall, you only need to modify the chains in the filter table. There are three preconfigured chains, INPUT, FORWARD, and OUTPUT. The chain names indicate the point in the IP packet processing when the chain is accessed. This means that you only need to modify three sets of rules to create an IPTables firewall.</p><p>Uncomplicated Firewall 03:48-04:06 Uncomplicated Firewall (UFW) provides a much more user-friendly framework for managing Netfilter and a command line interface for working with the firewall. On top of that, if you&#39;d rather not deal with the command line, UFW has a few GUI tools that make working with the system incredibly simple.</p><p>The firewalld Firewall 04:06-05:03 firewalld is a third Linux firewall that&#39;s pre-installed on many Linux distributions. It&#39;s a front-end controller for IPTables. When you install it, you can still use the IPTables commands to configure your firewall. Its strong point is that it has both a command line and graphical interface.</p><p>The firewalld application uses zones and services instead of chains and rules. Zones are pre-constructed rulesets for various trust levels. They&#39;re similar to Microsoft Windows security zones. Different zones allow different network services, ports, protocols, and incoming traffic types, while denying everything else.</p><p>You can apply a zone to different network interfaces. For example, if your firewall connects two networks, you can allow DHCP on the internal zone and deny it on the external zone. You can also configure firewalld with rules to allow traffic for specific network services. And you can add custom service rules to any zone.</p><p>Linux IP Forwarding 05:03-06:04 There are some other topics that relate to firewalls. First, there&#39;s IP forwarding. IP forwarding is another name for routing. It&#39;s sometimes called kernel IP forwarding because it&#39;s a feature of the Linux kernel.</p><p>A firewall can be thought of as a special type of router. Normally, routers don&#39;t filter network traffic. If traffic comes in on one interface that matches the subnet of another network interface, the router forwards the traffic to the other network interface. Firewalls do the same thing, but only after checking whether a rule prevents forwarding.</p><p>You can enable IP forwarding by writing a 1 to the ip_forward file. To enable IPv4 forwarding, you write to the /proc/sys/net/ipv4/ip_forward file. To enable IPv6 forwarding, you write to the /proc/sys/net/ipv6/ip_forward file.</p><p>Be cautious about enabling IP forwarding without a firewall, especially if one of your interfaces connects to the internet or to a subnet you don&#39;t control.</p><p>Dynamic Rule Sets 06:04-06:36 Dynamic rule sets are another useful firewall tool. They automate the rules IPTables use to filter network traffic and prevent intrusions. There are two popular Python scripts that are classified as intrusion prevention software, DenyHosts and Fail2ban. Both monitor log files and react to common security problems, such as brute-force attacks, by adding or modifying firewall rules.</p><p>Another companion application to IPTables is IPset. This tool allows you to easily set firewall rules for a block of IP addresses.</p><p>Common Firewall Configurations 06:36-07:11 Finally, there are a couple of topics that are common to all firewalls. Many firewall applications read from the /etc/services file. This file is a list of well-known services and their port assignments. When you update firewall rules, consider updating this file with new services and ports.</p><p>Also, the ports from 1 to 1023 are privileged ports. Only the root account has access to these ports. This can give you confidence in internal networks, where only trusted individuals have passwords to the root account. Internal firewalls may be more tolerant when passing network traffic using these ports.</p><p>Summary 07:11-07:35 And that&#39;s it for this video. In this lesson, we talked about firewalls and ACLs. We discussed several Linux firewalls, including Netfilter, IPTables, Uncomplicated Firewall, and firewalld. We also covered several related topics: IP forwarding, dynamic rule sets, and common firewall configurations.</p><h2 id="_12-7-2-configure-firewalld" tabindex="-1"><a class="header-anchor" href="#_12-7-2-configure-firewalld"><span>12.7.2 Configure firewalld</span></a></h2><p>Click one of the buttons to take you to that part of the video.</p><p>Configure firewalld 00:00-00:20 In this demonstration, we&#39;re going to show firewall technologies and firewall rule sets. Ubuntu uses the UFW firewall by default, which we have disabled, and installed firewalld as the default firewall on this system instead.</p><p>Firewall Status and Start 00:20-01:03 First, we need to make sure that the firewalld process is running. We run firewall-cmd followed by the keyword - -state. This tells us whether or not firewalld is running. Since it&#39;s not, we need to start the firewall with systemctl.</p><p>We&#39;ll be working as the root user account. To start the firewalld process, let&#39;s type systemctl start firewalld. To verify firewalld starts every time the system boots, we need to enable the firewalld process. We type systemctl enable firewalld. Running firewall -cmd --state shows that the firewall is running.</p><p>Firewall Commands 01:03-01:41 There are many command line parameters available for the firewall process. We can run firewall -cmd --help to view the available commands. As you can see, there are many options.</p><p>The firewall is the first line of defense for most organizations. So, when manipulating the firewall and changing rules and parameters, it&#39;s important that we&#39;re fully aware of the changes we&#39;re making. Any changes to the firewall should not be taken lightly. Understand the changes you&#39;re making when working on systems that are in production. Best practice is to make changes on a test system first.</p><p>Configuration Files 01:41-02:12 We&#39;ll be reviewing different configuration files for the firewall. First, we&#39;ll look in the /etc/firewalld/firewalld.conf file.</p><p>The configuration file has the default zone, clean up on exit, lockdown, and other options which are defaults for the firewalld process. Most users leave these defaults. If you&#39;re instructed by a supervisor to make a change, it&#39;s usually safe to do so. Otherwise, it&#39;s best to leave the file alone.</p><p>Set Zones 02:12-03:54 There are many directories in the /usr/lib/firewalld directory. We&#39;ll look at the zones directory and the services directory. These two directories are where our zones and services configurations are kept. Let&#39;s change directories to zones and do a directory listing. We see the configured zones. We have the block.xml, dmz.xml, drop.xml, and all other zones in XML files. Unless you are an XML programmer and understand XML, it is best to leave these alone. The other directories contain similar XML configuration files.</p><p>To view our current, default zone, we run firewall-cmd --get-default-zone. We see we&#39;re using the public zone. To switch to another zone, say the internal zone, we run firewall-cmd --set-default-zone internal. When we check our default zone again, we see it has changed from public to internal.</p><p>To see all the settings for a zone, we run firewall-cmd --zone=internal --list-all. This lists all permissions for a zone. For example, DHCP, mDNS, Samba, and SSH are services that are allowed to communicate through the firewall. We can add and remove services, ports, protocols, IP&#39;s, interfaces, and other parameters. We are going to add an exclusion for the service HTTP.</p><p>Add an Exclusion to the Firewall 03:54-04:45 We&#39;ll run firewall-cmd --zone=internal --add and the name of the parameter we&#39;re adding. Again, this can be a service, port, protocol, or any of the parameters we saw when we ran list all. Let&#39;s type service=http and press Enter. When we list all we see that http is now added to the services.</p><p>This is not a persistent change. Once the system reboots or the firewall is reloaded, our changes go away. If we want to make the changes permanent, we add the --permanent parameter to the end of our command. Once added, we reload the configuration files with firewall-cmd --reload. When we list all, we see http added to the exclusions.</p><p>Summary 04:45-04:56 In this demonstration, we showed firewall technologies, firewall commands, and dynamic rule sets.</p><h2 id="_12-7-3-ip-forwarding" tabindex="-1"><a class="header-anchor" href="#_12-7-3-ip-forwarding"><span>12.7.3 IP Forwarding</span></a></h2><p>Click one of the buttons to take you to that part of the video.</p><p>IP Forwarding 00:00-00:16 In this demonstration, I&#39;ll go over what IP forwarding is. All the commands you&#39;ll see must be run with sudo or as the root user. First, let&#39;s verify that the firewall is running. I run sudo firewall-cmd --state.</p><p>Add a Port 00:16-01:08 So there are several reasons why we might want to configure IP port forwarding. We could be running a proxy server, trying to hide services, adding extra security, or something else entirely. For example, let&#39;s say that I want all incoming HTTPS traffic on port 443 to be forwarded to a local web server running on port 8443.</p><p>To do this, I&#39;d run sudo firewall-cmd --zone=public --add-port=8443/tcp to open the firewall port and allow the traffic. If I don&#39;t complete this step first, traffic will be forwarded but will be blocked by the firewall. So, it wouldn&#39;t matter.</p><p>Port-To-Port Forwarding 01:08-01:56 Once the port is allowed through, I can forward incoming traffic from HTTPS port 443. I run sudo firewall-cmd --zone=public --add-forward-port=port=443:proto=tcp:toport=8443 to break this command down. I&#39;m adding a forwarding port now. That port number is port 443, and the protocol that the port will use is TCP. All incoming traffic on TCP port 443 will now be forwarded with this command to port 8443 on my system.</p><p>Port Forwarding to Another Server 01:56-03:25 I can also forward traffic to another server, which could be the same port number. By forwarding traffic from my current system to another device, I&#39;m essentially configuring my current Linux system as a proxy server.</p><p>First, I need to add masquerading, which allows for this to happen. I run sudo firewall-cmd --zone=public --add-masquerade. This configures the firewall to act as a forwarder and take incoming traffic and send it to another system. Next, I issue the command, not only to forward to my port, but also to forward to another server within my internal network. The command is identical to the one above where I forwarded from one port to another on the same system.</p><p>I run sudo firewall-cmd --zone=public --add-forward-port=port=443:proto=tcp:toport=8443:toaddr=192.168.23.155 I&#39;ve just added the &quot;to address&quot; field, which tells the system that I&#39;m forwarding all incoming TCP 443 traffic to the server at 192.168.23.155 on TCP 8443.</p><p>Summary 03:25-03:37 And that&#39;s all there is to it. In this demo, I showed you how to forward ports on a Linux firewall.</p><h2 id="_12-7-4-linux-firewall-facts" tabindex="-1"><a class="header-anchor" href="#_12-7-4-linux-firewall-facts"><span>12.7.4 Linux Firewall Facts</span></a></h2><p>A firewall establishes a barrier between the internal network, which is assumed to be secure and trusted, and the external network, which is usually the internet and is not secure or trusted. Most operating systems, including Linux, offer software-based firewalls to protect networks and systems from external threats.</p><p>This lesson covers the following topics:</p><ul><li>Access control lists</li><li>Popular Linux firewalls</li><li>Other Linux firewall considerations</li></ul><h3 id="access-control-lists" tabindex="-1"><a class="header-anchor" href="#access-control-lists"><span>Access Control Lists</span></a></h3><p>ACLs are the rules a firewall uses to process IP packets. Linux firewall technologies often use different methods to organize their configuration options, but ACL concepts are still at the heart of a firewall’s design.</p><ul><li> ACLs determine whether routed packets are accepted, rejected, or dropped. <ul><li>Accepted packets are forwarded on to their destinations.</li><li> Rejected packets are blocked, and a message is sent back to the packet’s sender. </li><li>Dropped packets are also blocked, but no message is sent.</li></ul></li><li> ACLs are stateless firewall filters. <br><div><div><div><div class="to-icon large" aria-hidden="true" style="width:20px;"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div><div class="to-info-box-body-content"><span> A stateful firewall looks at traffic patterns, tunneling, and encryption to determine how to filter packets.</span></div></div></div></div></li><li> ACLs use the following packet characteristics to determine how to filter a packet. <ul><li>Source address</li><li>Destination address</li><li>Ports</li><li>Protocols</li></ul></li><li>ACLs can log each time they’re used to filter a packet.</li><li> The packets that are the target of ACLs can be captured by setting a logging option. </li></ul><h3 id="popular-linux-firewalls" tabindex="-1"><a class="header-anchor" href="#popular-linux-firewalls"><span>Popular Linux Firewalls</span></a></h3><p>There are many third-party Linux firewalls, and a few of them are included in major Linux distributions. Most of them are based on Netfilter.</p><ul><li>Netfilter is part of the Linux kernel.</li><li> Netfilter is used for network address translation and port translation. </li><li> Netfilter supplies the kernel’s IP packet filtering functions, which are used by firewall applications. </li><li> Linux firewall applications interface with Netfilter to perform firewall functions. </li></ul><p>The following are popular Linux firewalls that are based on Netfilter.</p><table><thead><tr><th>Firewall</th><th>Description</th></tr></thead><tbody><tr><td>IPTables</td><td> IPTables is a firewall application that is pre-installed on most Linux distributions. <ul><li> IPTables is a rule-based front-end tool that interfaces with Netfilter to decide which packets to filter. </li><li> Internally, IPTables consists of five pre-defined tables that contain chains. <ul><li> The kernel accesses each chain at a specific point while processing an IP packet. </li><li>Each chain has its own purpose and contains rules.</li></ul></li><li> Configure an IPTables firewall by adding, deleting, and customizing the rules contained in each chain. <ul><li> For a basic firewall, only the INPUT, FORWARD, and OUTPUT chains in the filter table are modified. </li></ul></li><li> To view or list the rules in all chains, use the <b>iptables -L</b> or <b>iptables --list</b> command. </li></ul><p>IP packets are filtered according to the IPTables rules.</p><ul><li>Each chain’s rules are traversed in order.</li><li> Each rule has fields that are matched against the IP packet. <ul><li> If a match is made, the action in the rule is taken. No other rules in the chain are checked. </li><li> If the packet doesn’t match the rule, the rule is skipped, and the next rule is checked. </li><li> Normally, the last rule is configured with wildcards so that it matches any packet. In many cases, the action for the last rule is to reject the packet. </li></ul></li></ul></td></tr><tr><td>Uncomplicated Firewall</td><td> Uncomplicated Firewall (UFW) provides a user-friendly framework for managing Netfilter. <ul><li> A command line interface is provided to configure the firewall. </li><li> A few GUI tools make working with the UFW incredibly simple. <br></li></ul></td></tr><tr><td>firewalld</td><td> The firewalld firewall is pre-installed on many Linux distributions. <ul><li>firewalld is a front-end controller for IPTables.</li><li> With firewalld, the IPTables commands are still available. </li><li> firewalld has both a command line and graphical interface. </li><li> firewalld uses zones and services instead of chains and rules. <ul><li> Zones are pre-constructed rulesets for various trust levels. </li><li> Different zones allow different network services, ports, protocols, and incoming traffic types, while denying everything else. </li><li>You can apply a zone to different network interfaces.</li><li> You can configure firewalld with rules to allow traffic for specific network services. </li><li>You can add custom service rules to any zone.</li></ul></li></ul></td></tr></tbody></table><h3 id="other-linux-firewall-considerations" tabindex="-1"><a class="header-anchor" href="#other-linux-firewall-considerations"><span>Other Linux Firewall Considerations</span></a></h3><p>The following are items to consider when implementing a Linux firewall.</p><table><thead><tr><th>Firewall Consideration</th><th>Description</th></tr></thead><tbody><tr><td>IP forwarding</td><td> IP forwarding is another name for routing. It’s sometimes called kernel IP forwarding because it’s a feature of the Linux kernel. <ul><li> Enable IP forwarding by writing a 1 to the ip_forward file. <ul><li> Enable IPv4 forwarding by writing to the /proc/sys/net/ipv4/ip_forward file. </li><li> Enable IPv6 forwarding by writing to the /proc/sys/net/ipv6/ip_forward file. </li></ul></li><li> Be cautious about enabling IP forwarding without a firewall, especially if an interface connects to the internet or to a subnet you don’t control. </li></ul></td></tr><tr><td>Dynamic rule sets</td><td> Dynamic rule sets automate the rules IPTables use to filter network traffic and prevent intrusions. <ul><li> There are two popular Python scripts that are classified as intrusion prevention software, called DenyHosts and Fail2ban. </li><li> Both scripts monitor log files and react to common security problems, such as brute force attacks, by adding or modifying firewall rules. </li></ul></td></tr><tr><td>IPset</td><td> IPset is a companion application to IPTables that allows you to easily set firewall rules for a block of IP addresses. </td></tr><tr><td>/etc/services</td><td> Many firewall applications read from the /etc/services file. This file is a list of well-known services and their port assignments. When you update firewall rules, consider updating this file with new services and ports. </td></tr><tr><td>Privileged ports</td><td> The ports from 1 to 1023 are privileged ports. <ul><li>Only the root account has access to ports 1 to 1023.</li><li> Privileged ports give confidence in internal networks where only trusted individuals have passwords to the root account. </li><li> Internal firewalls may be more tolerant when passing network traffic using these ports. </li></ul></td></tr></tbody></table></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/linux/12/06.html" aria-label="Section 12.6 Hostname and DNS Configuration"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Section 12.6 Hostname and DNS Configuration</span></div></a><a class="route-link auto-link next" href="/linux/12/08.html" aria-label="Section 12.8 Network Troubleshooting"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Section 12.8 Network Troubleshooting</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/linux/assets/app-CCsZbG-M.js" defer></script>
  </body>
</html>
